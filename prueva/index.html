<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BCode</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.1/spectrum.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.1/spectrum.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/base16/material-palenight.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/atom-one-dark.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        dark: {
                            900: '#1e1e28',
                            800: '#282a36',
                            700: '#44475a',
                            600: '#6272a4',
                            500: '#f8f8f2',
                        },
                        accent: {
                            purple: '#bd93f9',
                            pink: '#ff79c6',
                            teal: '#8be9fd',
                            amber: '#ffb86c',
                            green: '#50fa7b',
                            red: '#ff5555'
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-in-out',
                        'slide-in': 'slideIn 0.3s ease-out',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideIn: {
                            '0%': { transform: 'translateX(-100%)' },
                            '100%': { transform: 'translateX(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet"href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs/editor/editor.main.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.1/spectrum.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.1/spectrum.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://bcode.totalh.net/wp-content/uploads/custom-css-js/61.css">
</head>
<style>
    /* Estructura principal */
    @media(max-width:764px){
       .chat-container{
        width: 100px;
       } 
    }
     @media(max-width:764px){
       .chat-container{
        width: 100px;
       } 
    }
    .chat-container {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100vh;
        background: #1a1a1a;
        display: none;
        flex-direction: column;
        z-index: 1000;
        margin: 0;
        padding: 0;
        border: none;
        border-radius: 0;
        box-shadow: none;
    }

    .chat-container.show {
        display: flex;
    }

    .chat-header {
        padding: 1rem;
        background: #252526;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #333;
    }

    .header-content {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .header-content h3 {
        font-size: 1.1rem;
        color: var(--primary-color);
    }

    .chat-messages {
        flex: 1;
        overflow-y: auto;
        padding: 1rem;
        margin: 0;
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .message {
        padding: 1.5rem;
        border-radius: 0.75rem;
        max-width: 100%;
        animation: messageEnter 0.3s ease;
        position: relative;
        line-height: 1.5;
        margin: 0 0 1rem 0;
    }

    .message.user {
        background: var(--message-user-bg);
        align-self: flex-end;
    }

    .message.bot {
        background: var(--message-bot-bg);
        align-self: flex-start;
    }

    .code-group {
        width: 100%;
        margin: 1rem 0;
        background: var(--code-bg);
        border-radius: 0.5rem;
        border: 1px solid #333;
    }

    .code-header {
        padding: 0.5rem 1rem;
        background: #252526;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #333;
    }

    .code-header span {
        font-family: 'Fira Code', monospace;
        font-size: 0.9rem;
        color: var(--primary-color);
    }

    pre {
        margin: 0;
        padding: 1.5rem;
        overflow-x: auto;
    }

    pre code {
        font-family: 'Fira Code', monospace;
        font-size: 1.1rem;
        display: block;
        white-space: pre-wrap;
    }

    .chat-input {
        padding: 1.5rem;
        background: #252526;
        display: flex;
        gap: 0.5rem;
        width: 100%;
        margin: 0;
        border-top: 1px solid #333;
    }

    #user-input {
        flex: 1;
        background: #333;
        border: 1px solid #404040;
        color: white;
        padding: 1.2rem;
        border-radius: 0.5rem;
        resize: none;
        max-height: 150px;
        font-family: 'Fira Code', monospace;
        font-size: 1rem;
        line-height: 1.5;
        min-height: 60px;
    }

    #user-input:focus {
        outline: 1px solid var(--primary-color);
    }

    .send-btn {
        background: var(--primary-color);
        border: none;
        padding: 0 1.25rem;
        border-radius: 0.5rem;
        cursor: pointer;
        color: white;
        transition: opacity 0.2s;
        display: flex;
        align-items: center;
    }

    .send-btn:hover {
        opacity: 0.9;
    }

    .open-chat-btn {
        position: fixed;
        bottom: 1.5rem;
        right: 1.5rem;
        background: var(--primary-color);
        width: 4rem;
        height: 4rem;
        border-radius: 50%;
        border: none;
        color: white;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        z-index: 999;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    @keyframes messageEnter {
        from { opacity: 0; transform: translateY(1rem); }
        to { opacity: 1; transform: translateY(0); }
    }

    .typing-indicator {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: #a0aec0;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        background: #2d2d2d;
        margin-left: 1rem;
    }

    .typing-dot {
        width: 6px;
        height: 6px;
        background: var(--primary-color);
        border-radius: 50%;
        animation: typing 1.4s infinite;
    }

    @keyframes typing {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-4px); }
    }

    .switch {
        position: relative;
        display: inline-block;
        width: 40px;
        height: 24px;
    }

    .switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }

    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: .4s;
        border-radius: 34px;
    }

    .slider:before {
        position: absolute;
        content: "";
        height: 16px;
        width: 16px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
    }

    input:checked + .slider {
        background-color: var(--primary-color);
    }

    input:checked + .slider:before {
        transform: translateX(16px);
    }

    .ai-status-enabled { color: #4CAF50; }
    .ai-status-disabled { color: #f44336; }

    .copy-btn {
        background: none;
        border: none;
        color: #858585;
        cursor: pointer;
        transition: color 0.2s;
        padding: 0.25rem;
    }

    .copy-btn:hover {
        color: var(--primary-color);
    }
</style>

<body class="bg-dark-900 text-gray-200 font-sans antialiased overflow-hidden h-screen flex flex-col">
    <header class="bg-dark-800 border-b border-dark-700 px-4 py-3 flex items-center justify-between">
        <div class="flex flex-1 overflow-hidden w-full">
            <button id="menu-toggle" class="text-gray-400 hover:text-white transition-all p-2 rounded-md hover:bg-dark-700">
                <i class="fas fa-bars text-lg"></i>
            </button>

            <div class="flex items-center">
                <i class="fas fa-code text-accent-purple text-xl mr-2"></i>
                <span class="text-xl font-bold gradient-text">BCode Pro</span>
            </div>
        </div>

        <div class="flex items-center space-x-3">
            
            <button id="repo-toggle" class="text-gray-400 hover:text-white transition-all p-2 rounded-md hover:bg-dark-700 tooltip">
                <i class="fab fa-github"></i>
                <span class="tooltip-text">Repositorio GitHub</span>
            </button>

            <button id="config-toggle" class="text-gray-400 hover:text-white transition-all p-2 rounded-md hover:bg-dark-700 tooltip">
                <i class="fas fa-cog"></i>
                <span class="tooltip-text">Configuración del editor</span>
            </button>
            <button id="admin-btn" class="hidden text-gray-400 hover:text-white transition-all p-2 rounded-md hover:bg-dark-700">
                <i class="fas fa-user-shield"></i>
            </button>
            <button id="upgrade-btn" class="hidden text-gray-400 hover:text-white transition-all p-2 rounded-md hover:bg-dark-700 tooltip">
            <i class="fas fa-crown"></i>
            <span class="tooltip-text">Actualizar Plan</span>
        </button>

            <div class="user-profile hidden relative">
                <div class="w-8 h-8 rounded-full bg-accent-teal flex items-center justify-center text-white font-semibold cursor-pointer user-initials">
                    <span>?</span>
                </div>
                <div class="dropdown hidden">
                    <div class="user-email"></div>
                    <button id="signout-btn" class="flex items-center px-3 py-2 text-sm hover:bg-dark-700">
                        <i class="fas fa-sign-out-alt mr-2"></i> 
                        <span>Cerrar sesión</span>
                    </button>
                </div>
            </div>

            <button id="signin-btn" class="text-gray-400 hover:text-white transition-all p-2 rounded-md hover:bg-dark-700">
                <i class="fas fa-sign-in-alt"></i>
            </button>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden  ">
        <aside id="sidebar"
            class="bg-dark-800 w-64 border-r border-dark-700 flex flex-col transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-20">
            <div class="px-4 py-3 border-b border-dark-700 flex items-center justify-between">
                <h3 class="text-sm font-semibold uppercase tracking-wider text-gray-400">Explorador</h3>
                <div class="flex space-x-2">
                    <button id="new-folder-btn" class="text-gray-400 hover:text-white transition-all p-1 rounded hover:bg-dark-700 tooltip">
                        <i class="fas fa-folder-plus text-sm"></i>
                        <span class="tooltip-text">Nueva carpeta</span>
                    </button>
                    <button id="new-folder-principal-btn" class="text-gray-400 hover:text-white transition-all p-1 rounded hover:bg-dark-700 tooltip">
                        <i class="fas fa-folder-plus text-sm"></i>
                        <span class="tooltip-text">Nueva carpeta (Princial)</span>
                    </button>

                    <button id="new-file-btn" class="text-gray-400 hover:text-white transition-all p-1 rounded hover:bg-dark-700 tooltip">
                        <i class="fas fa-file-plus text-sm"></i>
                    </button>
                </div>
            </div>
            <div id="file-explorer" class="flex-1 overflow-auto py-2 max-h-[calc(100vh_-_14rem)]">
                <div id="file-list" class="px-2"></div>
            </div>
            <div class="px-4 py-3 border-t border-dark-700">
                <div class="flex justify-between space-x-2">
                    <button id="import-btn" class="text-gray-400 hover:text-white transition-all p-2 rounded hover:bg-dark-700 tooltip">
                        <i class="fas fa-file-import text-sm"></i>
                        <span class="tooltip-text">Importar</span>
                    </button>
                    <button id="export-btn" class="text-gray-400 hover:text-white transition-all p-2 rounded hover:bg-dark-700 tooltip">
                        <i class="fas fa-file-export text-sm"></i>
                        <span class="tooltip-text">Exportar</span>
                    </button>
                    
                </div>
            </div>

            <div class="px-3 py-2 border-t border-dark-700 text-xs text-gray-500 flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-circle text-green-500"></i>
                    <span id="current-language">HTML</span>
                </div>
                <div>
                    <span>UTF-8</span>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="flex-1 flex flex-col overflow-hidden w-full transition-all duration-300" id="main-content">

            <div id="editor-tabs" class="bg-dark-800 border-b border-dark-700 flex items-center overflow-x-auto">
                <div class="flex">
                </div>

                <div class="ml-auto flex items-center px-3">
                    <button id="close-all-tabs" class="text-gray-400 hover:text-white p-1 rounded hover:bg-dark-700 tooltip">
                        <i class="fas fa-times-circle text-sm"></i>
                        <span class="tooltip-text">Cerrar todas</span>
                    </button>
                </div>
            </div>

            <div id="editor-container"
                class="flex-1 overflow-hidden editor-glow transition-all flex items-center justify-center">
                <h1 class="text-3xl md:text-4xl font-bold text-purple-400 text-center">
                    BCodePro: Tu mejor aliado para codificar
                    <br>
                    <div class="flex flex-col items-center mt-3">
                        <i class="fas fa-folder-open text-blue-500 text-3xl hover:text-blue-400 cursor-pointer"></i>
                        <a href="#" id="new-folder-btnn" 
                           class="text-sm sm:text-base md:text-lg text-purple-400 font-normal underline hover:text-purple-500 cursor-pointer">
                           Crea tu archivo para empezar a codificar
                        </a>
                    </div>
                </h1>
                
                <div id="monaco-editor" class="h-full w-full hidden"></div>
                
            </div>
            

            <div id="preview-container" class="bg-white h-0 overflow-hidden transition-all duration-300">
                <iframe id="preview-frame" 
                        class="w-full h-full border-none"
                        sandbox="allow-downloads allow-forms allow-modals allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
                        allow="accelerometer *; bluetooth *; camera *; clipboard-read *; clipboard-write *; display-capture *; encrypted-media *; geolocation *; gyroscope *; microphone *; midi *; serial *; web-share *; xr-spatial-tracking *"
                        allowpaymentrequest
                        allowfullscreen
                        loading="lazy">
                </iframe>  
            </div>

            <div id="terminal-panel"
                class="bg-dark-800 border-t border-dark-700 h-0 overflow-hidden transition-all duration-300">
                <!-- Terminal Tabs -->
                <div class="bg-dark-800 flex border-b border-dark-700">
                    <button class="terminal-tab px-4 py-2 text-sm font-medium border-b-2 border-accent-purple text-white" data-tab="terminal">
                        Terminal
                    </button>
                    <button class="terminal-tab px-4 py-2 text-sm font-medium text-gray-400 hover:text-white" data-tab="console">
                        Consola
                    </button>
                    <button class="terminal-tab px-4 py-2 text-sm font-medium text-gray-400 hover:text-white" data-tab="problems">
                        Problemas
                    </button>
                </div>

                <div id="terminal-content" class="p-3 font-mono text-sm h-full overflow-y-auto">
                    <div id="output-container" class="full-width">
                        <pre id="output"></pre>
                    </div>
                </div>
                <div id="console-content" class="p-3 font-mono text-sm h-full overflow-y-auto hidden">
                    <div class="text-gray-400">La consola está lista. Los errores y logs aparecerán aquí.</div>
                </div>
                


                <div id="problems-content" class="p-3 font-mono text-sm h-full overflow-y-auto hidden">
                    <div class="text-gray-400">tu codigo no tiene problemas parece estar todo ok</div>
                </div>
            </div>
        </main>

        <aside id="quick-access" class="bg-dark-800 w-48 border-l border-dark-dark-700 flex flex-col">
            <div class="px-4 py-3 border-b border-dark-700 flex items-center justify-between">
                <h3 class="text-sm font-semibold uppercase tracking-wider text-gray-400">Accesos</h3>

            </div>

            <div class="flex-1 overflow-y-auto py-2 px-2">
                <div id="color-picker-container" class="mb-4">
                    <input type="text" id="color-picker" class="w-full" />
                </div>

                <div class="mb-4">
                    <h4 class="text-xs font-semibold text-gray-400 mb-2">INSERTAR</h4>
                    <div class="grid grid-cols-3 gap-2">
                        <button class="quick-insert-btn bg-dark-700 text-gray-300 p-2 rounded rounded hover:bg-dark-600 hover:text-white" data-insert="{">{</button>
                        <button class="quick-insert-btn bg-dark-700 text-gray-300 p-2 rounded hover:bg-dark-600 hover:text-white" data-insert="}">}</button>
                        <button class="quick-insert-btn bg-dark-700 text-gray-300 p-2 rounded hover:bg-dark-600 hover:text-white" data-insert="[">[</button>
                        <button class="quick-insert-btn bg-dark-700 text-gray-300 p-2 rounded hover:bg-dark-600 hover:text-white" data-insert="]">]</button>
                        <button class="quick-insert-btn bg-dark-700 text-gray-300 p-2 rounded hover:bg-dark-600 hover:text-white" data-insert="(">(</button>
                        <button class="quick-insert-btn bg-dark-700 text-gray-300 p-2 rounded hover:bg-dark-600 hover:text-white" data-insert=")">)</button>
                        <button class="quick-insert-btn bg-dark-700 text-gray-300 p-2 rounded hover:bg-dark-600 hover:text-white" data-insert="'">'</button>
                        <button class="quick-insert-btn bg-dark-700 text-gray-300 p-2 rounded hover:bg-dark-600 hover:text-white" data-insert='"'>"</button>
                        <button class="quick-insert-btn bg-dark-700 text-gray-300 p-2 rounded hover:bg-dark-600 hover:text-white" data-insert="`">`</button>

                    </div>
                </div>

                <div>
                    <h4 class="text-xs font-semibold text-gray-400 mb-2">ACCIONES</h4>
                    <div class="space-y-2">
                        <button id="comment-btn" class="w-full text-left px-3 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600 flex items-center">
                            <i class="fas fa-comment mr-2 text-gray-400"></i>
                            Comentar
                        </button>
                        <button id="format-btn" class="w-full text-left px-3 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600 flex items-center">
                            <i class="fas fa-align-left mr-2 text-gray-400"></i>
                            Formatear
                        </button>
                        <button id="copy-all-btn" class="w-full text-left px-3 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600 flex items-center">
                            <i class="fas fa-copy mr-2 text-gray-400"></i>
                            Copiar todo
                        </button>
                        <button id="format-css-btn" class="w-full text-left px-3 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600 flex items-center">Formatear CSS</button>
                    </div>
                </div>
            </div>
            <button id="close-quick-access" class="text-gray-400 hover:text-white transition-all p-1 rounded hover:bg-dark-700">
                <i class="fas fa-times text-sm"></i>
            </button>
        </aside>
    </div>


    <div id="new-folder-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay">
        <div class="bg-dark-800 rounded-lg shadow-xl border border-dark-700 w-96">
            <div class="p-4 border-b border-dark-700 flex items-center justify-between">
                <h3 class="text-lg font-semibold">Nueva Carpeta</h3>
                <button id="close-new-folder-modal" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-4">
                <input type="text" id="folder-name" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-1 focus:ring-accent-purple" placeholder="Nombre de la carpeta">
                <div class="flex justify-end space-x-2">
                    <button id="cancel-new-folder" class="px-4 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600">
                        Cancelar
                    </button>
                    <button id="create-folder" class="px-4 py-2 text-sm rounded bg-accent-purple hover:bg-purple-600 text-white">
                        Crear
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="new-file-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay">
        <div class="bg-dark-800 rounded-lg shadow-xl border border-dark-700 w-96">
            <div class="p-4 border-b border-dark-700 flex items-center justify-between">
                <h3 class="text-lg font-semibold">Nuevo Archivo</h3>
                <button id="close-new-file-modal" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-4">
                <input type="text" id="file-name" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-1 focus:ring-accent-purple" placeholder="Nombre del archivo (ej. index.html)">
                <div class="flex justify-end space-x-2">
                    <button id="cancel-new-file" class="px-4 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600">
                        Cancelar
                    </button>
                    <button id="create-file" class="px-4 py-2 text-sm rounded bg-accent-purple hover:bg-purple-600 text-white">
                        Crear
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="new-principal-folder-modal"
        class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay">
        <div class="bg-dark-800 rounded-lg shadow-xl border border-dark-700 w-96">
            <div class="p-4 border-b border-dark-700 flex items-center justify-between">
                <h3 class="text-lg font-semibold">Nueva Carpeta Principal</h3>
                <button id="close-new-principal-folder-modal" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-4">
                <input type="text" id="principal-folder-name" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-1 focus:ring-accent-purple" placeholder="Nombre de la carpeta principal">
                <div class="flex justify-end space-x-2">
                    <button id="cancel-new-principal-folder" class="px-4 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600">
                        Cancelar
                    </button>
                    <button id="create-principal-folder" class="px-4 py-2 text-sm rounded bg-accent-purple hover:bg-purpleple-600 text-white">
                        Crear
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="import-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay">
        <div class="bg-dark-800 rounded-lg shadow-xl border border-dark-700 w-96">
            <div class="p-4 border-b border-dark-700 flex items-center justify-between">
                <h3 class="text-lg font-semibold">Importar Carpeta</h3>
                <button id="close-import-modal" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-4">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-400 mb-2">Seleccionar carpeta para importar</label>
                    <input type="file" id="file-import" class="hidden" multiple webkitdirectory>
                    <button id="browse-files" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 text-sm hover:bg-dark-600">
                        <i class="fas fa-folder-open mr-2"></i> Seleccionar carpeta
                    </button>
                    <p class="text-xs text-gray-500 mt-2">Se importará toda la estructura de la carpeta seleccionada.
                    </p>
                </div>
                <div class="flex justify-end space-x-2">
                    <button id="cancel-import" class="px-4 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600">
                        Cancelar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="export-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay">
        <div class="bg-dark-800 rounded-lg shadow-xl border border-dark-700 w-96">
            <div class="p-4 border-b border-dark-700 flex items-center justify-between">
                <h3 class="text-lg font-semibold">Exportar Proyecto</h3>
                <button id="close-export-modal" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-4">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-400 mb-2">Seleccionar carpeta</label>
                    <select id="export-folder-select" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-accent-purple">
                        <!-- Solo se cargarán las carpetas principales aquí -->
                    </select>
                </div>
                <div class="flex justify-end space-x-2">
                    <button id="cancel-export" class="px-4 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600">
                        Cancelar
                    </button>
                    <button id="confirm-export" class="px-4 py-2 text-sm rounded bg-accent-purple hover:bg-purple-600 text-white">
                        Exportar
                    </button>
                </div>

            </div>
        </div>
    </div>
    

    <div id="code-actions-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay">
        <div class="bg-dark-800 rounded-lg shadow-xl border border-dark-700 w-full max-w-2xl md:w-1/2 md:max-w-2xl">
            <div class="p-4 border-b border-dark-700 flex items-center justify-between">
                <h3 class="text-lg font-semibold">Insertar/Eliminar Código</h3>
                <button id="close-code-actions-modal" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-4">
                <textarea id="code-textarea" class="w-full h-64 bg-dark-700 border border-dark-600 rounded px-3 py-2 font-mono text-sm focus:outline-none focus:ring-1 focus:ring-accent-purple"></textarea>
                <div class="flex justify-end space-x-2 mt-4">
                    <button id="copy-code" class="px-4 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600">
                        <i class="fas fa-copy mr-2"></i> Copiar
                    </button>
                    <button id="paste-code" class="px-4 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600">
                        <i class="fas fa-paste mr-2"></i> Pegar
                    </button>
                    <button id="insert-code" class="px-4 py-2 text-sm rounded bg-accent-purple hover:bg-purple-600 text-white">
                        <i class="fas fa-code mr-2"></i> Insertar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="welcome-modal" class="fixed inset-0 flex items-center justify-center z-50 modal-overlay bg-black/60 backdrop-blur-sm hidden">
  <div class="bg-gradient-to-br from-dark-800 to-dark-900 rounded-xl shadow-2xl border-2 border-dark-700 w-96 relative overflow-hidden p-8">
    <div class="text-center">
      <div class="mb-6 animate-pulse">
        <i class="fas fa-code text-4xl text-accent-purple"></i>
      </div>
      <h3 class="text-2xl font-bold mb-4 bg-gradient-to-r from-accent-purple to-accent-pink bg-clip-text text-transparent">
        ¡Bienvenido a BCode Pro!
      </h3>
      <p class="text-gray-300 mb-6 leading-relaxed">
        Disfruta de todas las funciones premium durante nuestro periodo de prueba. ¡Actualiza para mantener el acceso!
      </p>
      <div class="flex items-center justify-center mb-6">
        <input type="checkbox" id="dont-show-again" class="form-checkbox h-5 w-5 text-accent-purple rounded focus:ring-accent-purple">
        <label for="dont-show-again" class="ml-2 text-gray-400 text-sm">No mostrar de nuevo</label>
      </div>
      <div class="flex justify-center space-x-4">
        <button id="close-welcome" class="px-6 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-white transition-all">
          Cerrar
        </button>
        <button id="view-pricing-welcome" class="px-6 py-2 bg-accent-purple hover:bg-purple-600 rounded-lg text-white transition-all">
          Ver Planes
        </button>
      </div>
    </div>
  </div>
</div>

<div id="view-pricing-modal-welcome" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay bg-black/60 backdrop-blur-sm">
  <div class="bg-gradient-to-br from-dark-800 to-dark-900 rounded-xl shadow-2xl border-2 border-accent-purple w-96 relative overflow-hidden">
    <div class="relative z-10">
      <div class="p-6 border-b border-dark-700 flex items-center justify-between">
        <div>
          <h3 class="text-xl font-bold text-accent-purple mb-2">Planes de Suscripción</h3>
          <p class="text-sm text-gray-400">Elige el plan que mejor se adapte a tus necesidades</p>
        </div>
        <button id="close-pricing-welcome" class="text-gray-400 hover:text-white transition-colors">
          <i class="fas fa-times text-lg"></i>
        </button>
      </div>

      <div class="p-6">
        <div class="space-y-4">
          <!-- Plan Anual -->
          <div class="group relative bg-dark-700 p-5 rounded-xl border-2 border-accent-purple/20 hover:border-accent-purple/40 transition-all cursor-pointer plan-option"
              data-plan="annual">
            <div class="flex justify-between items-center">
              <div>
                <h4 class="text-xl font-bold text-accent-purple mb-1">Plan Anual</h4>
                <p class="text-gray-400 text-sm">Ahorro recomendado</p>
              </div>
              <div class="text-right">
                <div class="text-2xl font-bold">$15</div>
                <div class="text-xs text-gray-400">($1.25/mes)</div>
              </div>
            </div>
            <div class="mt-3 text-sm text-gray-300">
              <p class="mb-1"><i class="fas fa-check-circle text-accent-purple mr-2"></i>Proyectos ilimitados</p>
              <p class="mb-1"><i class="fas fa-check-circle text-accent-purple mr-2"></i>Soporte prioritario</p>
              <p><i class="fas fa-check-circle text-accent-purple mr-2"></i>Todas las funciones Pro</p>
            </div>
          </div>

          <!-- Plan Mensual -->
          <div class="bg-dark-700 p-5 rounded-xl border-2 border-accent-purple/20 hover:border-accent-purple/40 transition-all cursor-pointer plan-option"
              data-plan="monthly">
            <div class="flex justify-between items-center">
              <div>
                <h4 class="text-xl font-bold text-accent-purple mb-1">Plan Mensual</h4>
                <p class="text-gray-400 text-sm">Flexibilidad total</p>
              </div>
              <div class="text-right">
                <div class="text-2xl font-bold">$2</div>
                <div class="text-xs text-gray-400">por mes</div>
              </div>
            </div>
          </div>
        </div>

        <div class="mt-6 text-center">
          <p class="text-xs text-gray-500">
            <i class="fas fa-lock mr-2"></i>Pago seguro · Cancelación en cualquier momento
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
    <div id="auth-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay">
        <div class="bg-dark-800 rounded-lg shadow-xl border border-dark-700 w-96">
            <div class="p-4 border-b border-dark-700 flex items-center justify-between">
                <h3 class="text-lg font-semibold">Iniciar sesión / Registrarse</h3>
                <button id="close-auth-modal" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-4">
                <div id="auth-tabs" class="flex border-b border-dark-700 mb-4">
                    <button class="auth-tab px-4 py-2 text-sm font-medium border-b-2 border-accent-purple text-white" data-tab="login">
                        Iniciar sesión
                    </button>
                    <button class="auth-tab px-4 py-2 text-sm font-medium text-gray-400 hover:text-white" data-tab="signup">
                        Registrarse
                    </button>
                </div>

                <div id="login-content" class="auth-content">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-400 mb-2">Correo electrónico</label>
                        <input type="email" id="login-email" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-accent-purple" placeholder="tu@email.com">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-400 mb-2">Contraseña</label>
                        <input type="password" id="login-password" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-accent-purple" placeholder="••••••••">
                    </div>
                    <div id="login-error" class="hidden mt-4 p-3 bg-red-500/20 text-red-400 rounded text-sm"></div>
                    <button id="login-btn" class="w-full mt-4 bg-accent-purple text-white px-4 py-2 rounded hover:bg-purple-600">
                        Iniciar sesión
                    </button>
                </div>

                <div id="signup-content" class="auth-content hidden">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-400 mb-2">Correo electrónico</label>
                        <input type="email" id="signup-email" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-accent-purple" placeholder="tu@email.com">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-400 mb-2">Contraseña</label>
                        <input type="password" id="signup-password" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-accent-purple" placeholder="••••••••">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-400 mb-2">Confirmar contraseña</label>
                        <input type="password" id="signup-confirm" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-accent-purple" placeholder="••••••••">
                    </div>
                    <div id="signup-error" class="hidden mt-4 p-3 bg-red-500/20 text-red-400 rounded text-sm"></div>
                    <button id="signup-btn" class="w-full mt-4 bg-accent-purple text-white px-4 py-2 rounded hover:bg-purple-600">
                        Registrarse
                    </button>

                    <div id="recaptcha-container" class="mt-4"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="config-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay">
        <div
            class="bg-dark-800 rounded-lg shadow-xl border border-dark-700 w-11/12 max-w-4xl max-h-[90vh] overflow-hidden flex flex-col">
            <div class="p-4 border-b border-dark-700 flex items-center justify-between">
                <h3 class="text-lg font-semibold">Configuración del Editor</h3>
                <button id="close-config-modal" class="text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
            </div>

            <div class="flex-1 overflow-y-auto">
                <!-- Tabs de configuración -->
                <div class="border-b border-dark-700 flex">
                    <button class="config-tab px-4 py-3 text-sm font-medium border-b-2 border-accent-purple text-white" data-tab="editor">
                    Editor
                </button>
                    <button class="config-tab px-4 py-3 text-sm font-medium text-gray-400 hover:text-white" data-tab="colors">
                    Colores
                </button>
                    <button class="config-tab px-4 py-3 text-sm font-medium text-gray-400 hover:text-white" data-tab="advanced">
                    Avanzado
                </button>
                </div>

               
                <div class="p-6 grid grid-cols-1 md:grid-cols-0 gap-6 ">
                    <!-- Pestaña Editor -->
                    <div id="editor-config-content" class="config-content">
                        <div class="mb-6">
                            <h4 class="text-sm font-semibold text-gray-400 mb-4">APARIENCIA</h4>

                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Tema de la interfaz</label>
                                    <select id="ui-theme" class="bg-dark-700 border border-dark-600 rounded px-3 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-accent-purple">
                                    <option value="dark">Oscuro</option>
                                    <option value="light">Claro</option>
                                </select>
                                </div>

                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Tamaño de fuente</label>
                                    <select id="font-size" class="bg-dark-700 border border-dark-600 rounded px-3 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-accent-purple">
                                    <option value="12">12px</option>
                                    <option value="14" selected>14px</option>
                                    <option value="16">16px</option>
                                    <option value="18">18px</option>
                                    <option value="20">20px</option>
                                </select>
                                </div>

                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Familia de fuente</label>
                                    <select id="font-family" class="bg-dark-700 border border-dark-600 rounded px-3 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-accent-purple">
                                    <option value="'Fira Code', monospace">Fira Code</option>
                                    <option value="'Courier New', monospace">Courier New</option>
                                    <option value="'Consolas', monospace">Consolas</option>
                                    <option value="'Source Code Pro', monospace">Source Code Pro</option>
                                </select>
                                </div>

                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Altura de línea</label>
                                    <select id="line-height" class="bg-dark-700 border border-dark-600 rounded px-3 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-accent-purple">
                                    <option value="1.2">Compacto (1.2)</option>
                                    <option value="1.5" selected>Normal (1.5)</option>
                                    <option value="1.8">Amplio (1.8)</option>
                                </select>
                                </div>
                            </div>
                        </div>

                        <div class="mb-6">
                            <h4 class="text-sm font-semibold text-gray-400 mb-4">COMPORTAMIENTO</h4>

                            <div class="space-y-3">
                                <label class="flex items-center space-x-3">
                                    <input type="checkbox" id="word-wrap" class="form-checkbox h-4 w-4 text-accent-purple rounded focus:ring-accent-purple">
                                    <span class="text-sm">Word Wrap (Ajuste de línea)</span>
                                </label>

                                    <label class="flex items-center space-x-3">
                                    <input type="checkbox" id="auto-closing" class="form-checkbox h-4 w-4 text-accent-purple rounded focus:ring-accent-purple" checked>
                                    <span class="text-sm">Cierre automático de llaves/corchetes</span>
                                </label>

                                <label class="flex items-center space-x-3">
                                    <input type="checkbox" id="auto-indent" class="form-checkbox h-4 w-4 text-accent-purple rounded focus:ring-accent-purple" checked>
                                    <span class="text-sm">Autoindentación</span>
                                </label>

                                <label class="flex items-center space-x-3">
                                    <input type="checkbox" id="format-on-save" class="form-checkbox h-4 w-4 text-accent-purple rounded focus:ring-accent-purple">
                                    <span class="text-sm">Formatear al guardar</span>
                                </label>

                                <label class="flex items-center space-x-3">
                                    <input type="checkbox" id="open-iframe-new-window" class="form-checkbox h-4 w-4 text-accent-purple rounded focus:ring-accent-purple">
                                    <span class="text-sm">Abrir El Resultado En Otra Pestaña</span>
                                </label>
                                
                            </div>
                        </div>
                    </div>

                    <div id="colors-config-content" class="config-content hidden">
                        <div class="mb-6">
                            <h4 class="text-sm font-semibold text-gray-400 mb-4">PRESETS DE COLORES</h4>
                    
                            <div class="grid grid-cols-4 gap-4 mb-6" id="colors-palet">
                                <!-- Presets básicos siempre disponibles -->
                                <button class="color-preset-btn p-3 rounded border border-dark-700 hover:border-accent-purple" 
                                        data-preset="dark" data-default="true">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#bd93f9]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#ff79c6]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#8be9fd]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Default</span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 hover:border-accent-purple" 
                                        data-preset="royal" data-default="true">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#6d4c85]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#d4af37]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#fff5e6]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Royal</span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 hover:border-accent-purple" 
                                        data-preset="corporate" data-default="true">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#2c3e50]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#3498db]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#ecf0f1]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Corporate</span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 hover:border-accent-purple" 
                                        data-preset="dracula" data-default="true">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#bd93f9]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#ff79c6]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#8be9fd]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Dracula</span>
                                </button>
                    
                                <!-- Presets PRO (deshabilitados por defecto) -->
                                <button class="color-preset-btn p-3 rounded border border-dark-700 opacity-50 cursor-not-allowed pro-preset" 
                                        data-preset="vibrant" disabled>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#ffdd40]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#ff7f7f]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#7fdbca]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Vibrant <span class="text-accent-purple ml-1">(Pro)</span></span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 opacity-50 cursor-not-allowed pro-preset" 
                                        data-preset="neon" disabled>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#ff00ff]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#00ff00]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#00ffff]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Neón <span class="text-accent-purple ml-1">(Pro)</span></span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 opacity-50 cursor-not-allowed pro-preset" 
                                        data-preset="cyber" disabled>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#ff007f]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#9dff00]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#00ccff]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Cyber <span class="text-accent-purple ml-1">(Pro)</span></span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 opacity-50 cursor-not-allowed pro-preset" 
                                        data-preset="sapphire" disabled>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#0f3460]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#3a6b8f]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#c0c0c0]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Sapphire <span class="text-accent-purple ml-1">(Pro)</span></span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 opacity-50 cursor-not-allowed pro-preset" 
                                        data-preset="vintage" disabled>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#7b1e3f]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#2d504f]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#d3b683]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Vintage <span class="text-accent-purple ml-1">(Pro)</span></span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 opacity-50 cursor-not-allowed pro-preset" 
                                        data-preset="platinum" disabled>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#e5e4e2]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#008080]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#b76e79]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Platinum <span class="text-accent-purple ml-1">(Pro)</span></span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 opacity-50 cursor-not-allowed pro-preset" 
                                        data-preset="graphite" disabled>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#34495e]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#95a5a6]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#e74c3c]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Graphite <span class="text-accent-purple ml-1">(Pro)</span></span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 opacity-50 cursor-not-allowed pro-preset" 
                                        data-preset="tech" disabled>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#1a2f38]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#2ecc71]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#ffffff]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Tech Green <span class="text-accent-purple ml-1">(Pro)</span></span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 opacity-50 cursor-not-allowed pro-preset" 
                                        data-preset="cyan" disabled>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#0d1b2a]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#00b4d8]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#f8f9fa]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Minimal Cyan <span class="text-accent-purple ml-1">(Pro)</span></span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 opacity-50 cursor-not-allowed pro-preset" 
                                        data-preset="solarized" disabled>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#268bd2]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#2aa198]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#b58900]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Solarized <span class="text-accent-purple ml-1">(Pro)</span></span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 opacity-50 cursor-not-allowed pro-preset" 
                                        data-preset="ocean" disabled>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#1793d1]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#ff5370]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#c3e88d]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Material Ocean <span class="text-accent-purple ml-1">(Pro)</span></span>
                                </button>
                    
                                <button class="color-preset-btn p-3 rounded border border-dark-700 opacity-50 cursor-not-allowed pro-preset" 
                                        data-preset="nord" disabled>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-4 h-4 rounded-full bg-[#5e81ac]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#88c0d0]"></div>
                                        <div class="w-4 h-4 rounded-full bg-[#bf616a]"></div>
                                    </div>
                                    <span class="text-xs mt-1 block">Nord Frost <span class="text-accent-purple ml-1">(Pro)</span></span>
                                </button>
                            </div>
                    
                            <h4 class="text-sm font-semibold text-gray-400 mb-4">PERSONALIZAR COLORES</h4>
                    
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Color de texto</label>
                                    <input type="color" id="text-color" class="w-8 h-8 rounded cursor-pointer" value="#f8f8f2" disabled>
                                </div>
                    
                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Fondo del editor</label>
                                    <input type="color" id="editor-bg" class="w-8 h-8 rounded cursor-pointer" value="#282a36" disabled>
                                </div>
                    
                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Color de palabras clave</label>
                                    <input type="color" id="keyword-color" class="w-8 h-8 rounded cursor-pointer" value="#ff79c6" disabled>
                                </div>
                    
                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Color de strings</label>
                                    <input type="color" id="string-color" class="w-8 h-8 rounded cursor-pointer" value="#f1fa8c" disabled>
                                </div>
                    
                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Color de números</label>
                                    <input type="color" id="number-color" class="w-8 h-8 rounded cursor-pointer" value="#bd93f9" disabled>
                                </div>
                    
                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Color de comentarios</label>
                                    <input type="color" id="comment-color" class="w-8 h-8 rounded cursor-pointer" value="#6272a4" disabled>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="advanced-config-content" class="config-content hidden">
                        <div class="mb-6">
                            <h4 class="text-sm font-semibold text-gray-400 mb-4">AJUSTES AVANZADOS</h4>

                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Tamaño de tabulación</label>
                                    <select id="tab-size" class="bg-dark-700 border border-dark-600 rounded px-3 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-accent-purple">
                                    <option value="2">2 espacios</option>
                                    <option value="4" selected>4 espacios</option>
                                    <option value="8">8 espacios</option>
                                </select>
                                </div>

                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Tipo de tabulación</label>
                                    <select id="insert-spaces" class="bg-dark-700 border border-dark-600 rounded px-3 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-accent-purple">
                                    <option value="true">Espacios</option>
                                    <option value="false">Tabulación real</option>
                                </select>
                                </div>

                                <div class="flex items-center justify-between">
                                    <label class="text-sm">Límite de columna</label>
                                    <input type="number" id="column-limit" min="0" max="200" value="80" class="bg-dark-700 border border-dark-600 rounded px-3 py-1 text-sm w-20 focus:outline-none focus:ring-1 focus:ring-accent-purple">
                                </div>
                                <div class="group flex items-center justify-between px-5 py-3 bg-gradient-to-r from-dark-800/70 to-dark-800/30 backdrop-blur-sm border border-white/5 rounded-xl shadow-2xl transition-all hover:border-indigo-500/30">
                                    <div class="flex items-center space-x-3">
                                        <div class="p-2 bg-indigo-500/10 rounded-lg border border-indigo-500/20">
                                            <svg class="w-5 h-5 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 002.25-2.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v2.25A2.25 2.25 0 006 10.5zm0 9.75h2.25A2.25 2.25 0 0010.5 18v-2.25a2.25 2.25 0 00-2.25-2.25H6a2.25 2.25 0 00-2.25 2.25V18A2.25 2.25 0 006 20.25zm9.75-9.75H18a2.25 2.25 0 002.25-2.25V6A2.25 2.25 0 0018 3.75h-2.25A2.25 2.25 0 0013.5 6v2.25a2.25 2.25 0 002.25 2.25z"/>
                                            </svg>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-gray-200">Inyección Automática</p>
                                            <p class="text-xs text-gray-400 mt-0.5">AI en tiempo real</p>
                                        </div>
                                    </div>

                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input 
                                            type="checkbox" 
                                            id="enable-ai" 
                                            class="sr-only peer"
                                            checked
                                            onchange="localStorage.setItem('aiEnabled', this.checked)"
                                        >
                                        <div class="w-12 h-6 bg-gray-800/50 rounded-full peer-checked:bg-indigo-500/20 border border-white/5 backdrop-blur-sm transition-all duration-300">
                                            <div class="absolute top-1 left-1 w-4 h-4 bg-gradient-to-b from-gray-300 to-gray-400 rounded-full shadow-lg transition-transform duration-300 peer-checked:translate-x-6 peer-checked:bg-gradient-to-b peer-checked:from-indigo-200 peer-checked:to-indigo-400">
                                                <div class="absolute inset-0 rounded-full opacity-30 peer-checked:opacity-0 transition-opacity duration-300 bg-[radial-gradient(at_top_right,_var(--tw-gradient-stops))] from-white/50 via-transparent to-transparent"></div>
                                                <svg class="w-3 h-3 absolute top-0.5 left-0.5 text-indigo-600 opacity-0 peer-checked:opacity-100 transition-opacity duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                                                </svg>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                                <div class="pt-4 border-t border-dark-700">
                                    <button id="reset-config" class="px-4 py-2 text-sm rounded bg-red-500 hover:bg-red-600 text-white">
                                    Restablecer configuración
                                </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="p-4 border-t border-dark-700 flex justify-end">
                <button id="save-config" class="px-4 py-2 text-sm rounded bg-accent-purple hover:bg-purple-600 text-white">
                Guardar cambios
            </button>
            </div>
        </div>
    </div>
    <footer
        class="bg-dark-800 border-t border-dark-700 px-3 py-1 flex items-center justify-between text-xs text-gray-400">
        <div class="flex items-center space-x-4">
            <div class="flex items-center">
                <i class="fas fa-code-branch mr-1"></i>
                <span>main</span>
            </div>
        </div>

        <div class="flex items-center space-x-4">
            <div class="flex items-center">
                <i class="fas fa-laptop-code mr-1"></i>
                <span>UTF-8</span>
            </div>
            <div class="flex items-center">
                <i class="fab fa-js mr-1"></i>
                <span id="current-file-type">JavaScript</span>
            </div>
            <div class="flex items-center">
                <i class="fas fa-clock mr-1"></i>
                <span id="current-time">00:00</span>
            </div>
            <div class="flex items-center">
                <i class="fas fa-circle text-green-500 mr-1"></i>
                <span id="status-message">Ready</span>
            </div>
        </div>
    </footer>

    <div class="fixed bottom-6 right-6 flex flex-col space-y-3 z-10">
        <button id="run-btn" class="fab w-12 h-12 rounded-full bg-accent-purple text-white flex items-center justify-center shadow-lg hover:bg-purple-600 tooltip">
            <i class="fas fa-play"></i>
            
        </button>
        <button id="run-button-python" class="fab w-12 h-12 rounded-full bg-dark-700 text-gray-300 flex items-center justify-center shadow-lg hover:bgbg-dark-600 hover:text-white tooltip">
            <span class="icon-group">
                <i class="fas fa-play play-icon"></i>
            </span>
        </button>

        <button id="terminal-toggle" class="fab w-12 h-12 rounded-full bg-dark-700 text-gray-300 flex items-center justify-center shadow-lg hover:bgbg-dark-600 hover:text-white tooltip">
            <i class="fas fa-terminal"></i>
        </button>

        <button id="quick-access-toggle" class="fab w-12 h-12 rounded-full bg-dark-700 text-gray-300 flex items-center justify-center shadow-lg hover:bg-dark-600 hover:text-white tooltip">
            <i class="fas fa-bolt"></i>
            
        </button>
        <button id="code-actions-btn" class="fab w-12 h-12 rounded-full bg-dark-700 text-gray-300 flex items-center justify-center shadow-lg hover:bg-dark-600 hover:text-white tooltip">
            <i class="fas fa-code text-sm"></i>
        </button>
        <button 
            id="open-chat" 
            class="bg-gradient-to-br from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-xl transition-all group relative">
            <i class="fas fa-robot text-xl transform transition-transform group-hover:scale-110"></i>
            <span class="absolute -left-20 top-1/2 -translate-y-1/2 bg-gray-800 text-white px-3 py-1.5 rounded-md text-sm font-medium shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none">
                <span class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-1 w-2 h-2 bg-gray-800 rotate-45"></span>
                Asistente AI
            </span>
        </button>
        
    </div>


    <div id="chat-modal" class="fixed right-0 top-0 h-full z-50 transform translate-x-full transition-transform duration-300 ease-in-out border-l border-dark-700 bg-dark-800 w-[420px]">
        <div class="h-full flex flex-col">
            <div class="px-5 py-4 border-b border-dark-700 flex items-center justify-between bg-gradient-to-r from-indigo-900/30 to-purple-900/20">
                <div class="flex items-center space-x-3">
                    <div class="bg-indigo-600 p-2.5 rounded-lg shadow-lg">
                        <i class="fas fa-bolt text-white text-lg"></i>
                    </div>
                    <h2 class="text-lg font-semibold tracking-wide text-indigo-200">BCode AI </h2>
                </div>
                <div class="flex space-x-2">
                    <button id="clear-history" class="text-gray-300 hover:text-indigo-400 transition-colors p-1.5 hover:bg-gray-700/50 rounded-lg" title="Limpiar historial">
                        <i class="fas fa-eraser text-sm"></i>
                    </button>
                    <button id="close-chat" class="text-gray-300 hover:text-indigo-400 transition-colors p-1.5 hover:bg-gray-700/50 rounded-lg">
                        <i class="fas fa-times text-lg"></i>
                    </button>
                </div>
            </div>

            <div id="chat-container" class="flex-1 overflow-y-auto p-5 space-y-6 bg-dark-850 custom-scrollbar">
                <!-- Mensaje inicial -->
                <div class="flex items-start gap-4">
                    <div class="bg-indigo-600 p-2.5 rounded-lg mt-1">
                        <i class="fas fa-bolt text-white text-sm"></i>
                    </div>
                    <div class="bg-dark-700 p-4 rounded-xl shadow-lg flex-1">
                        <p class="text-gray-100 text-sm leading-relaxed">¡Hola! Soy <span class="text-indigo-400 font-medium">BCode AI</span>, tu asistente especializado en desarrollo web moderno.</p>
                        <div class="mt-3 flex items-center space-x-2 text-xs">
                            <span class="bg-indigo-900/30 text-indigo-300 px-2 py-1 rounded">v2.4.1</span>
                            <span class="text-gray-400">Auto-inyección: <span id="ai-status" class="font-bold text-emerald-400">DESACTIVADA</span></span>
                        </div>
                    </div>
                </div>

                <div id="system-messages" class="space-y-4"></div>
            </div>
            <div class="border-t border-dark-700 p-4 bg-dark-800">
                <div class="relative">
                    <textarea 
                        id="user-input" 
                        rows="3"
                        class="w-full p-3 bg-dark-700 text-gray-100 border border-dark-600 rounded-xl resize-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent pr-24 text-sm placeholder-gray-500"
                        placeholder="Escribe tu consulta de código..."
                    ></textarea>
                    <div class="absolute right-3 bottom-3 flex space-x-2">
                        <button 
                            id="send-btn" 
                            class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all flex items-center space-x-2 shadow-lg hover:shadow-indigo-900/30"
                            title="Enviar (Ctrl+Enter)"
                        >
                            <i class="fas fa-paper-plane text-sm"></i>
                            <span class="text-sm">Enviar</span>
                        </button>
                    </div>
                </div>
            </div>

            <div id="code-status-modal" class="hidden absolute bottom-6 right-6 bg-dark-900 text-white px-4 py-2.5 rounded-lg shadow-xl border border-dark-600 text-sm">
                <i class="fas fa-sync-alt animate-spin mr-2 text-indigo-400"></i>
                <span>Generando código...</span>
            </div>
        </div>
    </div>
    <div id="pricing-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay bg-black/60 backdrop-blur-sm">
        <div class="bg-gradient-to-br from-dark-800 to-dark-900 rounded-xl shadow-2xl border-2 border-dark-700 w-96 relative overflow-hidden transition-all transform hover:scale-[1.005]">
            <div class="absolute inset-0 opacity-20 bg-gradient-to-r from-accent-purple/30 to-accent-green/30"></div>
            
            <div class="relative z-10">
                <div class="p-6 border-b border-dark-700 flex items-center justify-between bg-dark-900/50">
                    <div>
                        <div class="flex items-center gap-2 mb-2">
                            <i class="fas fa-exclamation-triangle text-accent-red"></i>
                            <h3 class="text-xl font-bold">Tu Prueba Finalizó</h3>
                        </div>
                        <p class="text-sm text-gray-400">¡No pierdas tu trabajo! Continúa accediendo</p>
                    </div>
                    <button id="close-pricing-modal" class="text-gray-400 hover:text-white transition-colors">
                        <i class="fas fa-times text-lg"></i>
                    </button>
                </div>
    
                <div class="p-6">
                    <div class="bg-dark-700/50 p-4 rounded-lg mb-6 text-center border border-accent-green/20">
                        <p class="text-sm text-accent-green mb-2 font-semibold animate-pulse">
                            <i class="fas fa-clock mr-2"></i>Oferta por tiempo limitado
                        </p>
                        <div id="countdown" class="flex justify-center gap-3 font-mono">
                            <div class="text-2xl font-bold bg-dark-800 px-3 py-1 rounded">23</div>
                            <div class="text-2xl font-bold">:</div>
                            <div class="text-2xl font-bold bg-dark-800 px-3 py-1 rounded">59</div>
                            <div class="text-2xl font-bold">:</div>
                            <div class="text-2xl font-bold bg-dark-800 px-3 py-1 rounded">59</div>
                        </div>
                        <p class="text-xs mt-2 text-gray-400">25% de descuento aplicado automáticamente</p>
                    </div>
    
                    <div class="space-y-4">
                        <div class="group relative bg-dark-700 p-5 rounded-xl border-2 border-accent-green/20 hover:border-accent-green/40 transition-all cursor-pointer plan-option"
                            data-plan="annual">
                            <div class="absolute top-0 right-0 bg-accent-green text-dark-900 text-xs font-bold px-3 py-1 rounded-bl-xl">
                                MÁS POPULAR
                            </div>
                            <div class="flex justify-between items-center">
                                <div>
                                    <h4 class="text-xl font-bold text-accent-green mb-1">Plan Anual</h4>
                                    <p class="text-gray-400 text-sm">Ahorra 2 meses gratis</p>
                                </div>
                                <div class="text-right">
                                    <div class="text-2xl font-bold">$15</div>
                                    <div class="text-xs text-gray-400 line-through">$24</div>
                                </div>
                            </div>
                            <div class="mt-3 text-sm text-gray-300">
                                <p class="mb-1"><i class="fas fa-check-circle text-accent-green mr-2"></i>Acceso prioritario</p>
                                <p class="mb-1"><i class="fas fa-check-circle text-accent-green mr-2"></i>Soporte 24/7</p>
                                <p><i class="fas fa-check-circle text-accent-green mr-2"></i>Proyectos ilimitados</p>
                            </div>
                        </div>
    
                        <div class="bg-dark-700 p-5 rounded-xl border-2 border-transparent hover:border-accent-purple/30 transition-all cursor-pointer plan-option"
                            data-plan="monthly">
                            <div class="flex justify-between items-center">
                                <div>
                                    <h4 class="text-xl font-bold text-accent-purple mb-1">Plan Mensual</h4>
                                    <p class="text-gray-400 text-sm">Flexibilidad total</p>
                                </div>
                                <div class="text-right">
                                    <div class="text-2xl font-bold">$2</div>
                                    <div class="text-xs text-gray-400">por mes</div>
                                </div>
                            </div>
                        </div>
                    </div>
    
                    <div class="mt-6 text-center">
                        <p class="text-xs text-gray-500">
                            <i class="fas fa-lock mr-2"></i>Pago seguro · 14 días de garantía
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="admin-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay">
        <div class="bg-dark-800 rounded-lg shadow-xl border border-dark-700 w-11/12 max-w-4xl">
            <div class="p-4 border-b border-dark-700 flex items-center justify-between">
                <h3 class="text-lg font-semibold">Panel de Administración de Usuarios</h3>
                <button id="close-admin-modal" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-4">
                <div class="flex border-b border-dark-700 mb-4 acciones">
                    <button id="tab-search" class="px-4 py-2 font-medium text-ac-accent-purple border-b-2 border-accent-purple">Buscar Usuario</button>
                    <button id="tab-all-users" class="px-4 py-2 font-medium text-gray-400 hover:text-white">Todos los Usuarios</button>
                    <button id="tab-add-user" class="px-4 py-2 font-medium text-gray-400 hover:text-white">Agregar Usuario</button>
                    <button id="view-status-site" class="px-4 py-2 font-medium text-gray-400 hover:text-white">Ver Estadisticas</button>
                </div>

                <div id="search-tab-content" class="tab-content">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-400 mb-2">Correo del usuario</label>
                        <div class="flex gap-2">
                            <input type="email" id="admin-user-email" class="flex-1 bg-dark-700 border border-dark-600 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-accent-purple">
                            <button id="search-user-btn" class="bg-accent-purple text-white px-4 py-2 rounded hover:bg-purple-600">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div id="user-info" class="hidden mt-4 p-4 bg-dark-700 rounded-lg">
                        <div class="grid grid-cols-2 gap-4 text-sm mb-4">
                            <div class="flex items-center">
                                <span class="text-gray-400 mr-2">Email:</span>
                                <span id="info-email" class="text-accent-purple"></span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-gray-400 mr-2">Registrado el:</span>
                                <span id="info-registration" class="text-accent-teal"></span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-gray-400 mr-2">Fin del Trial:</span>
                                <span id="info-trial-end" class="text-accent-amber"></span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-gray-400 mr-2">Suscripción hasta:</span>
                                <span id="info-subscription-end" class="text-accent-pink"></span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-gray-400 mr-2">Estado:</span>
                                <span id="info-status" class="flex items-center">
                                    <span class="status-dot w-2 h-2 rounded-full mr-2"></span>
                                    <span class="status-text"></span>
                                </span>
                            </div>
                        </div>
                        
                        <div class="mb-4 flex items-center">
                            <input type="checkbox" id="user-active" class="form-checkbox h-4 w-4 text-accent-purple rounded focus:ring-accent-purple">
                            <label class="ml-2 text-sm text-gray-400">Usuario activo</label>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-400 mb-2">Duración de suscripción</label>
                            <select id="subscription-duration" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-accent-purple">
                                <option value="1">1 Mes</option>
                                <option value="3">3 Meses</option>
                                <option value="6">6 Meses</option>
                                <option value="12">1 Año</option>
                            </select>
                        </div>
                        
                        <div class="flex gap-2">
                            <button id="save-user-status" class="flex-1 bg-accent-purple text-white px-4 py-2 rounded hover:bg-purple-600">
                                Guardar Cambios
                            </button>
                            <button id="delete-user-btn" class="flex-1 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">
                                Eliminar Usuario
                            </button>
                        </div>
                    </div>
                </div>
                <div id="all-users-tab-content" class="tab-content hidden">
                    <div class="mb-4">
                        <input type="text" id="all-users-filter" placeholder="Filtrar usuarios..." class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-accent-purple">
                    </div>
                    <div class="overflow-auto max-h-96">
                        <table class="w-full text-sm">
                            <thead class="bg-dark-700">
                                <tr>
                                    <th class="p-2 text-left">Email</th>
                                    <th class="p-2 text-left">Registro</th>
                                    <th class="p-2 text-left">Estado</th>
                                    <th class="p-2 text-left">Suscripción</th>
                                    <th class="p-2 text-left">Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="all-users-list" class="divide-y divide-dark-700">

                            </tbody>
                        </table>
                    </div>
                    <div class="flex justify-between items-center mt-4">
                        <div class="text-sm text-gray-400" id="users-count">Mostrando 0 usuarios</div>
                        <div class="flex gap-2">
                            <button id="prev-page" class="bg-dark-700 text-white px-3 py-1 rounded disabled:opacity-50" disabled>Anterior</button>
                            <button id="next-page" class="bg-dark-700 text-white px-3 py-1 rounded disabled:opacity-50" disabled>Siguiente</button>
                        </div>
                    </div>
                </div>
    
                <div id="add-user-tab-content" class="tab-content hidden">
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-400 mb-2">Email del nuevo usuario</label>
                        <input type="email" id="new-user-email" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-accent-purple">
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-400 mb-2">Contraseña</label>
                        <input type="password" id="new-user-password" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-accent-purple">
                    </div>
                    <div class="mb-4 flex items-center">
                        <input type="checkbox" id="new-user-active" class="form-checkbox h-4 w-4 text-accent-purple rounded focus:ring-accent-purple" checked>
                        <label class="ml-2 text-sm text-gray-400">Usuario activo</label>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-400 mb-2">Tipo de suscripción</label>
                        <select id="new-user-subscription" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-accent-purple">
                            <option value="trial">Trial</option>
                            <option value="premium">Premium</option>
                        </select>
                    </div>
                    <div class="mb-4" id="new-user-subscription-duration-container">
                        <label class="block text-sm font-medium text-gray-400 mb-2">Duración de suscripción</label>
                        <select id="new-user-subscription-duration" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-accent-purple">
                            <option value="1">1 Mes</option>
                            <option value="3">3 Meses</option>
                            <option value="6">6 Meses</option>
                            <option value="12">1 Año</option>
                        </select>
                    </div>
                    <button id="add-user-btn" class="w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                        Agregar Usuario
                    </button>
                    
                </div>
                <div id="site-stats-container" class="tab-content hidden">
                    <div class="overflow-auto max-h-[calc(100vh-300px)]">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                            <div class="bg-dark-700 p-4 rounded-lg border border-dark-600">
                                <h3 class="text-gray-400 text-sm font-medium mb-2">👥 Usuarios conectados</h3>
                                <div class="text-2xl font-bold text-green-500" id="live-users">0</div>
                                <div class="text-xs text-gray-500 mt-1">En este momento</div>
                            </div>

                            <div class="bg-dark-700 p-4 rounded-lg border border-dark-600">
                                <h3 class="text-gray-400 text-sm font-medium mb-2">🖱️ Clics totales</h3>
                                <div class="text-2xl font-bold text-purple-500" id="total-clicks">0</div>
                                <div class="text-xs text-gray-500 mt-1">Últimas 24 horas</div>
                            </div>

                            <div class="bg-dark-700 p-4 rounded-lg border border-dark-600">
                                <h3 class="text-gray-400 text-sm font-medium mb-2">⚡ Rendimiento</h3>
                                <div class="text-2xl font-bold text-blue-500" id="site-performance">0ms</div>
                                <div class="text-xs text-gray-500 mt-1">Tiempo de respuesta</div>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                            <div class="bg-dark-700 p-4 rounded-lg border border-dark-600">
                                <h3 class="text-gray-400 text-lg font-semibold mb-4">Actividad por hora</h3>
                                <canvas id="activityChart" class="h-48"></canvas>
                            </div>
                            
                            <div class="bg-dark-700 p-4 rounded-lg border border-dark-600">
                                <h3 class="text-gray-400 text-lg font-semibold mb-4">Dispositivos conectados</h3>
                                <canvas id="devicesChart" class="h-48"></canvas>
                            </div>
                        </div>

                        <div class="mt-6 bg-dark-700 p-4 rounded-lg border border-dark-600">
                            <h3 class="text-gray-400 text-lg font-semibold mb-4">Eventos en tiempo real</h3>
                            <div id="live-events" class="h-64 overflow-y-auto">
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-between items-center mt-4">
                        <div class="text-sm text-gray-400">Última actualización: <span id="last-update">00:00</span></div>
                        <button id="refresh-stats" class="bg-dark-700 text-white px-3 py-1 rounded hover:bg-dark-600">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                </div>
        </div>
        </div>
    </div>

    <div id="repo-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay">
        <div class="bg-dark-800 rounded-lg shadow-xl border border-dark-700 w-11/12 max-w-6xl max-h-[90vh] flex flex-col">

            
            

            <div id="repo-menu-overlay" class="repo-menu-overlay"></div>
            
            <div class="p-4 border-b border-dark-700 flex items-center justify-between">
                <button id="repo-left-menu-toggle" class="repo-menu-toggle hidden md:hidden">
                    <i class="fas fa-bars"></i>
                </button>
                
                <h3 class="text-lg font-semibold">Repo GitHub/Comparte Tus Proyectos</h3>
                <!-- Menú hamburguesa derecho (solo móvil) -->
                <button id="repo-right-menu-toggle" class="repo-menu-toggle hidden md:hidden">
                    <i class="fas fa-ellipsis-v"></i>
                </button>
                <button id="close-repo-modal" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="flex-1 overflow-hidden flex">
                <div id="repo-search-container" class="w-64 border-r border-dark-700 overflow-y-auto">
                    <div class="p-3">
                        <input type="text" id="repo-search" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-1 focus:ring-accent-purple" placeholder="Buscar en repo...">
                        <div class="flex space-x-2 mb-3">
                            <button id="refresh-repo" class="flex-1 bg-dark-700 hover:bg-dark-600 px-2 py-1 rounded text-sm">
                                <i class="fas fa-sync-alt mr-1"></i> Actualizar
                            </button>
                            <button id="upload-to-repo" class="flex-1 bg-dark-700 hover:bg-dark-600 px-2 py-1 rounded text-sm">
                                <i class="fas fa-upload mr-1"></i> Subir
                            </button>
                        </div>
                    </div>
                    <div id="repo-files" class="p-2 overflow-y-auto">
                        <div class="text-center py-8 text-gray-500">
                            <i class="fas fa-code-branch text-2xl mb-2"></i>
                            <p>No se ha cargado ningún repositorio</p>
                        </div>
                    </div>
                </div>
                
                <div class="flex-1 flex flex-col overflow-hidden">
                    <div class="border-b border-dark-700 p-2 flex items-center justify-between">
                        <div id="repo-file-path" class="text-sm text-gray-400 truncate">ruta/del/archivo</div>
                        <div class="flex space-x-2">
                            <button id="save-to-repo" class="bg-accent-purple hover:bg-purple-600 px-3 py-1 rounded text-sm text-white">
                                <i class="fas fa-save mr-1"></i> Guardar
                            </button>
                            <button id="download-from-repo" class="bg-dark-700 hover:bg-dark-600 px-3 py-1 rounded text-sm">
                                <i class="fas fa-download mr-1"></i> Descargar
                            </button>
                        </div>
                    </div>
                    <div id="repo-editor-container" class="flex-1 overflow-hidden">
                        <div id="repo-monaco-editor" class="h-full w-full"></div>
                    </div>
                    <div class="border-t border-dark-700 p-2 text-xs text-gray-500 flex justify-between">
                        <div id="repo-file-info">Selecciona un archivo</div>
                        <div id="repo-status">Listo</div>
                    </div>
                </div>
                
                <div id="repo-actions-panel" class="w-48 border-l border-dark-700 p-3 overflow-y-auto">
                    <h4 class="text-xs font-semibold text-gray-400 mb-2">ACCIONES</h4>
                    <div class="space-y-2">
                        <button id="import-from-repo" class="w-full text-left px-3 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600 flex items-center">
                            <i class="fas fa-file-import mr-2 text-gray-400"></i>
                            Exportar al editor principal
                        </button>
                       
                        <!-- <button id="create-repo-file" class="w-full text-left px-3 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600 flex items-center">
                            <i class="fas fa-file-plus mr-2 text-gray-400"></i>
                            Nuevo archivo
                        </button>
                        <button id="create-repo-folder" class="w-full text-left px-3 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600 flex items-center">
                            <i class="fas fa-folder-plus-plus mr-2 text-gray-400"></i>
                            Nueva carpeta
                        </button> -->
                        <div id="custom-modal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
                        </div>
                    </div>
                    
                    <h4 class="text-xs font-semibold text-gray-400 mt-4 mb-2">REPOSITORIO</h4>
                    <div class="space-y-2">
                        <input type="text" id="repo-url" class="w-full bg-dark-700 border border-dark-600 rounded px-2 py-1 text-xs mb-2" placeholder="usuario/repo" value="AnteroTeobaldo/BCodeProyectos">
                        <button id="load-repo" class="w-full px-3 py-2 text-sm rounded bg-accent-purple hover:bg-purple-600 text-white top-20 bottom-10">
                            Cargar Repo
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>


<div id="repo-export-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal-overlay">
    <div class="bg-dark-800 rounded-lg shadow-xl border border-dark-700 w-11/12 max-w-4xl max-h-[80vh] flex flex-col">
        <div class="p-4 border-b border-dark-700 flex items-center justify-between">
            <h3 class="text-lg font-semibold">Exportar desde Repositorio</h3>
            <button id="close-repo-export-modal" class="text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="flex-1 overflow-y-auto p-4">
            <div class="mb-4">
                <input type="text" id="repo-export-search" class="w-full bg-dark-700 border border-dark-600 rounded px-3 py-2 mb-2 focus:outline-none focus:ring-1 focus:ring-accent-purple" placeholder="Buscar archivos...">
            </div>
            
            <div id="repo-export-files" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
                <div class="text-center py-8 text-gray-500">
                    <i class="fas fa-code-branch text-2xl mb-2"></i>
                    <p>Selecciona archivos del repositorio</p>
                </div>
            </div>
        </div>
        
        <div class="p-4 border-t border-dark-700 flex justify-between items-center">
            <div class="text-sm text-gray-400">
                <span id="selected-files-count">0</span> archivos seleccionados
            </div>
            <div class="flex space-x-2">
                <button id="cancel-repo-export" class="px-4 py-2 text-sm rounded bg-dark-700 hover:bg-dark-600">
                    Cancelar
                </button>
                <button id="confirm-repo-export" class="px-4 py-2 text-sm rounded bg-accent-purple hover:bg-purple-600 text-white">
                    Exportar selección
                </button>
            </div>
        </div>
    </div>
</div>
    
  <script src="https://www.gstatic.com/firebasejs/10.12.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.1/firebase-storage-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs/loader.min.js"></script>

    <script src="script.js"></script>
</body>

</html>