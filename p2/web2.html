<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bolivia Explora: Tu Guía de Viaje y Aventuras</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Tailwind gray-50 */
            color: #1a202c; /* Tailwind gray-900 */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Custom animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes scaleIn {
            from { transform: scale(0.95); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .animate-fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }
        .animate-scale-in {
            animation: scaleIn 0.3s ease-out forwards;
        }
        .scroll-hidden::-webkit-scrollbar {
            display: none;
        }
        .scroll-hidden {
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
        }
    </style>
</head>
<body class="font-inter antialiased bg-gray-50 text-gray-900">

    <!-- Navbar -->
    
    <nav class="bg-gradient-to-r from-blue-700 to-indigo-700 p-4 shadow-lg sticky top-0 z-50 rounded-b-xl">
        <div class="container mx-auto flex justify-between items-center flex-wrap">
            <a id="nav-home-brand" class="flex items-center text-white text-3xl font-extrabold cursor-pointer hover:text-blue-200 transition-colors duration-300">
                <!-- Logo with rounded-full class for circular shape -->
                <img src="https://i.ibb.co/m53XkQkX/Logo-con-Tipograf-a-para-Iniciales-del-Nombre-Profesional-Circular-Limpio-E-20250613-035808-1.jpg" alt="Bolivia Explora Logo" class="h-8 w-8 mr-3 inline-block rounded-full object-cover" onerror="this.onerror=null;this.src='https://placehold.co/32x32/cccccc/333333?text=Logo';">
                Bolivia <span class="text-blue-200 ml-1">Explora</span>
            </a>

            <!-- Mobile menu button -->
            <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none p-2 rounded-md hover:bg-indigo-600 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu">
                    <line x1="4" x2="20" y1="12" y2="12" />
                    <line x1="4" x2="20" y1="6" y2="6" />
                    <line x1="4" x2="20" y1="18" y2="18" />
                </svg>
            </button>

            <!-- Desktop Menu -->
            <div id="desktop-menu" class="hidden md:flex space-x-6 text-lg">
                <a id="nav-home" class="flex items-center text-white hover:text-blue-200 transition-colors duration-300 cursor-pointer p-2 rounded-md hover:bg-indigo-600">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-home mr-2">
                        <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                        <polyline points="9 22 9 12 15 12 15 22" />
                    </svg>
                    Inicio
                </a>
                <a id="nav-explore" class="flex items-center text-white hover:text-blue-200 transition-colors duration-300 cursor-pointer p-2 rounded-md hover:bg-indigo-600">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-globe mr-2">
                        <circle cx="12" cy="12" r="10" />
                        <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20" />
                        <path d="M2 12h20" />
                    </svg>
                    Explorar Bolivia
                </a>
                <a id="nav-plan-trip" class="flex items-center text-white hover:text-blue-200 transition-colors duration-300 cursor-pointer p-2 rounded-md hover:bg-indigo-600">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plane mr-2">
                        <path d="M17.8 19.2 16 11l3.5-3.5C21 6 22 5 22 3.5a2.5 2.5 0 0 0-2.5-2.5c-1.5 0-2.5 1-3.5 2.5L13 8l-8.2-1.8c-.9-.2-1.8.1-2.5.7L.7 9.9c-.8.7-.7 2 .2 2.7l3.5 3.5c.7.7 2 .8 2.7.2L11 16l8.2 1.8c.9.2 1.8-.1 2.5-.7L23.3 14.1c.8-.7.7-2-.2-2.7l-3.5-3.5c-.7-.7-2-.8-2.7-.2Z" />
                        <path d="M15 14v6" />
                        <path d="M18 17H9" />
                    </svg>
                    Planificar tu Viaje
                </a>
                <a id="nav-contact" class="flex items-center text-white hover:text-blue-200 transition-colors duration-300 cursor-pointer p-2 rounded-md hover:bg-indigo-600">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail mr-2">
                        <rect width="20" height="16" x="2" y="4" rx="2" />
                        <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" />
                    </svg>
                    Contacto
                </a>
            </div>
        </div>

        <!-- Mobile Menu Dropdown (initially hidden) -->
        <div id="mobile-menu-dropdown" class="md:hidden mt-4 bg-indigo-800 rounded-lg p-4 space-y-3 shadow-inner hidden">
            <a id="mobile-nav-home" class="flex items-center text-white hover:text-blue-200 transition-colors duration-300 cursor-pointer p-2 rounded-md hover:bg-indigo-700">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-home mr-3">
                    <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                    <polyline points="9 22 9 12 15 12 15 22" />
                </svg>
                Inicio
            </a>
            <a id="mobile-nav-explore" class="flex items-center text-white hover:text-blue-200 transition-colors duration-300 cursor-pointer p-2 rounded-md hover:bg-indigo-700">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-globe mr-3">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20" />
                    <path d="M2 12h20" />
                </svg>
                Explorar Bolivia
            </a>
            <a id="mobile-nav-plan-trip" class="flex items-center text-white hover:text-blue-200 transition-colors duration-300 cursor-pointer p-2 rounded-md hover:bg-indigo-700">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plane mr-3">
                    <path d="M17.8 19.2 16 11l3.5-3.5C21 6 22 5 22 3.5a2.5 2.5 0 0 0-2.5-2.5c-1.5 0-2.5 1-3.5 2.5L13 8l-8.2-1.8c-.9-.2-1.8.1-2.5.7L.7 9.9c-.8.7-.7 2 .2 2.7l3.5 3.5c.7.7 2 .8 2.7.2L11 16l8.2 1.8c.9.2 1.8-.1 2.5-.7L23.3 14.1c.8-.7.7-2-.2-2.7l-3.5-3.5c-.7-.7-2-.8-2.7-.2Z" />
                    <path d="M15 14v6" />
                    <path d="M18 17H9" />
                </svg>
                Planificar tu Viaje
            </a>
            <a id="mobile-nav-contact" class="flex items-center text-white hover:text-blue-200 transition-colors duration-300 cursor-pointer p-2 rounded-md hover:bg-indigo-700">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail mr-3">
                    <rect width="20" height="16" x="2" y="4" rx="2" />
                    <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" />
                </svg>
                Contacto
            </a>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main id="main-content" class="min-h-screen">
        <!-- Pages will be rendered here dynamically by JavaScript -->
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white p-6 mt-12 rounded-t-xl shadow-inner">
        <div class="container mx-auto text-center">
            <p class="text-lg mb-2">© <span id="current-year"></span> Bolivia Explora. Todos los derechos reservados.</p>
            <p class="text-sm text-gray-400">Diseñado con pasión por la aventura y la cultura boliviana.</p>
        </div>
    </footer>

    <!-- Modal Structure -->
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto transform scale-95 animate-scale-in">
            <div class="flex justify-between items-center mb-6 border-b pb-4">
                <h3 id="modal-title" class="text-3xl font-bold text-gray-800"></h3>
                <button id="modal-close-button" class="text-gray-500 hover:text-gray-700 text-4xl leading-none">&times;</button>
            </div>
            <div id="modal-content" class="text-gray-700"></div>
            <div class="mt-8 text-right">
                <button id="modal-close-button-bottom" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full shadow-md transition-colors duration-300">
                    Cerrar
                </button>
            </div>
        </div>
    </div>


    <script>
        // Mock Data for Bolivia
        const boliviaData = {
            departments: [
                {
                    id: 'lapaz',
                    name: 'La Paz',
                    description: 'El centro político y cultural de Bolivia, con paisajes andinos impresionantes y una rica historia.',
                    image: 'lapaz.jpg',
                    attractions: [
                        {
                            id: 'valle-de-la-luna',
                            name: 'Valle de la Luna',
                            description: 'Formaciones geológicas únicas que simulan un paisaje lunar. Ideal para caminatas cortas y fotografía.',
                            detail: 'El Valle de la Luna es una impresionante formación geológica ubicada a pocos kilómetros del centro de La Paz. Sus formaciones de arcilla y arenisca, esculpidas por la erosión, crean un paisaje surrealista que evoca la superficie lunar. Es un lugar perfecto para una excursión de medio día, ofreciendo senderos fáciles para explorar y miradores con vistas espectaculares. El contraste de colores y las formas caprichosas lo convierten en un paraíso para los fotógrafos. Se recomienda visitarlo con calzado cómodo y llevar agua.',
                            images: [
                                'valleluna.jpg',
                                'valleluna1.jpg',
                                'valleluna2.jpg'
                            ]
                        },
                        {
                            id: 'lago-titicaca',
                            name: 'Lago Titicaca (Copacabana e Isla del Sol)',
                            description: 'El lago navegable más alto del mundo, cuna de civilizaciones andinas. Visita Copacabana y la mística Isla del Sol.',
                            detail: 'El Lago Titicaca, compartido con Perú, es el lago navegable más alto del mundo y un sitio sagrado para la cultura andina. Copacabana es el principal puerto boliviano en el lago, famoso por su basílica y sus vistas. Desde allí, puedes tomar un bote a la Isla del Sol, considerada el lugar de nacimiento del Sol y la Luna según la mitología inca. La isla ofrece ruinas incas, senderos escénicos y una conexión profunda con la historia y la naturaleza. Se recomienda llevar ropa abrigadora, protector solar y gorra, ya que la altura es considerable.',
                            images: [
                                'titicaca.jpg',
                                'titicaca1.jpg',
                                'titicaca2.jpg',
                                'titicaca3.jpg'
                            ]
                        }
                    ]
                },
                {
                    id: 'potosi',
                    name: 'Potosí',
                    description: 'Ciudad colonial declarada Patrimonio de la Humanidad por la UNESCO, famosa por su rica historia minera y el Cerro Rico.',
                    image: 'potosi.jpeg',
                    attractions: [
                        {
                            id: 'cerro-rico',
                            name: 'Cerro Rico',
                            description: 'La montaña que ha sido fuente de plata por siglos, con tours a las minas para una experiencia única.',
                            detail: 'El Cerro Rico de Potosí es un ícono de la ciudad, conocido por su inmensa riqueza de plata que impulsó la economía mundial durante la colonia. Hoy en día, se ofrecen tours a las minas activas, permitiendo a los visitantes conocer de cerca las condiciones de trabajo y la vida de los mineros. Es una experiencia impactante y educativa que ofrece una perspectiva profunda sobre la historia y la cultura de Potosí. Se aconseja ir con ropa que se pueda ensuciar y estar preparado para las condiciones dentro de la mina.',
                            images: [
                                'cerro-rico.jpeg',
                                'https://placehold.co/800x500/27ae60/ffffff?text=Cerro+Rico+2',
                                'https://placehold.co/800x500/3ecc71/ffffff?text=Cerro+Rico+3'
                            ]
                        },
                        {
                            id: 'casa-de-la-moneda',
                            name: 'Casa de la Moneda',
                            description: 'Antigua ceca colonial donde se acuñaba la plata. Un museo fascinante que narra la historia económica de la región.',
                            detail: 'La Casa Nacional de la Moneda es uno de los edificios coloniales más importantes de Sudamérica. Fue donde se acuñaba la plata extraída del Cerro Rico, y hoy funciona como un museo que exhibe maquinaria original y arte. Es un testimonio de la opulencia y el impacto de Potosí en la historia mundial. Los tours guiados son muy informativos y revelan detalles fascinantes de la vida colonial y el proceso de acuñación. Es una visita obligada para entender la magnitud histórica de Potosí.',
                            images: [
                                'casa-moneda.jpg',
                                'casa1.jpeg',
                                'csa.jpeg'
                            ]
                        }
                    ]
                },
                {
                    id: 'santacruz',
                    name: 'Santa Cruz',
                    description: 'La capital económica de Bolivia, conocida por su clima cálido, sus parques nacionales y su vibrante vida urbana.',
                    image: 'santacruz.jpg',
                    attractions: [
                        {
                            id: 'parque-nacional-amboro',
                            name: 'Parque Nacional Amboró',
                            description: 'Una joya de la biodiversidad con una increíble variedad de flora y fauna, cascadas y paisajes impresionantes.',
                            detail: 'El Parque Nacional Amboró es una de las áreas protegidas más diversas del mundo, abarcando una transición única entre la Amazonía, los Andes y el Chaco. Es hogar de jaguares, pumas, osos de anteojos y una gran cantidad de aves. Ofrece oportunidades para el senderismo, la observación de aves y la exploración de su exuberante vegetación y cascadas. Se recomienda contratar guías locales y estar preparado para un clima tropical y húmedo.',
                            images: [
                                'amboro.jpg',
                                'amboro1.jpg',
                                'amboro2.jpg'
                            ]
                        },
                        {
                            id: 'biocentro-guembe',
                            name: 'Biocentro Güembé',
                            description: 'Un resort natural y parque ecológico con piscinas, mariposarios, aviarios y una gran variedad de animales.',
                            detail: 'El Biocentro Güembé es un oasis natural a las afueras de Santa Cruz, ideal para un día de relajación y contacto con la naturaleza. Cuenta con piscinas, lagunas, un mariposario gigante (uno de los más grandes del mundo), aviarios, un orquideario y senderos ecológicos. Es perfecto para familias y para quienes buscan un escape del calor de la ciudad, ofreciendo diversas actividades recreativas y la oportunidad de observar la flora y fauna local.',
                            images: [
                                'guen1.jpeg',
                                'guen2.jpeg',
                                'guen3.jpeg'
                            ]
                        },
                        {
                            id: 'noel-kempff',
                            name: 'Parque Nacional Noel Kempff Mercado',
                            description: 'Es uno de los parques más extensos e intactos de la región Amazónica',
                            detail: 'El Parque Nacional Noel Kempff Mercado fue declarado Patrimonio Nacional de la Humanidad en el año 2000 y posee una belleza única, es uno de los lugares más protegidos y bio diversos del planeta.',
                            images: [
                                'noelk.jpg',
                                'noelk2.jpg',
                                'noelk3.jpg'
                            ]
                        },
                        {
                            id: 'misiones-jesuitas',
                            name: 'Misiones Jesuíticas',
                            description: 'Las Misiones Jesuíticas de Santa Cruz, también conocidas como las Misiones Jesuíticas de Chiquitos',
                            detail: 'Misiones Jesuíticas de Chiquitos son un testimonio de la labor de los jesuitas en América del Sur y representan una fusión única de la arquitectura europea y las tradiciones culturales indígenas.',
                            images: [
                                'jesuitas.jpg',
                                'jesuitas1.jpg',
                                'jesuitas2.jpg'
                            ]
                        },
                        {
                            id: 'samaitapa',
                            name: 'Samaipata',
                            description: 'El pueblo de Samaipata es un encantador destino turístico.',
                            detail: 'Samaipata es un pequeño pueblo es conocido por su belleza natural y su proximidad al famoso sitio arqueológico del Fuerte de Samaipata, que es un Patrimonio de la Humanidad de la UNESCO.',
                            images: [
                                'samipata.jpg',
                                'samipata1.jpg',
                                'samipata2.jpg'
                            ]
                        },
                        {
                            id: 'parque-rinconada',
                            name: 'Parque Natural La Rinconada',
                            description: 'El Parque Natural La Rinconada es un refugio de naturaleza donde los visitantes pueden escapar del bullicio de la ciudad y disfrutar de un entorno natural tranquilo. ',
                            detail: 'El Parque Natural La Rinconada es un lugar donde puedes conectarte con la belleza de la naturaleza, hacer caminatas, observar aves y relajarte en medio de un entorno natural exuberante en Santa Cruz.',
                            images: [
                                'rinco.jpg',
                                'rinco1.jpg',
                                'rinco2.jpg',
                                'rinco3.jpg'
                            ]
                        },
                        {
                            id: 'lomas-arena',
                            name: 'Parque Regional Lomas de Arena',
                            description: 'El Parque Regional Lomas de Arena es un destino turístico emocionante y único en Bolivia. Las dunas de arena y su entorno brindan oportunidades para la aventura y la exploración en un paisaje sorprendentemente diferente al de otros parques naturales. ',
                            detail: 'El Parque Regional Lomas de Arena es un destino turístico emocionante y único en Bolivia. Las dunas de arena y su entorno brindan oportunidades para la aventura y la exploración en un paisaje sorprendentemente diferente al de otros parques naturales. Ya sea practicando deportes de aventura, explorando las dunas o disfrutando de un día de picnic, este parque es un lugar inolvidable para la diversión al aire libre y la conexión con la naturaleza.',
                            images: [
                                'lomas.jpg',
                                'lomas1.jpg',
                                'lomas2.jpg',
                                'lomas3.jpg'
                            ]
                        },
                        {
                            id: 'cotoca',
                            name: 'Parque Regional Lomas de Arena',
                            description: 'Cotoca es un destino especial para aquellos interesados en la cultura y la religión boliviana. ',
                            detail: 'El Santuario de Cotoca y la festividad de la Virgen son elementos centrales de la identidad del pueblo, y visitarlos te permitirá sumergirte en la rica herencia religiosa y cultural de la región. ',
                            images: [
                                'cotoca.jpg',
                                'cotoca1.jpg',
                                'cotoca2.jpg',
                            ]
                        },
                        {
                            id: 'robore',
                            name: 'Robore',
                            description: 'Roboré es un destino ideal para hacer base en su viaje a la región y desde aquí recorrer los diferentes circuitos turísticos.',
                            detail: 'Roboré es un  lugar es famosamente conocido como “El Paraíso Escondido” y la “Perla del Oriente boliviano”.Su gran diversidad de lugares naturales se ha convertido en un excelente destino turístico tanto a nivel nacional como internacional, ideal para disfrutar y compartir experiencias inolvidables.',
                            images: [
                                'robore.jpg',
                                'robore1.jpg',
                                'robore2.jpg',
                                'robore2.jpg'
                            ]
                        }
                    ]
                },
                {
                    id: 'beni',
                    name: 'Beni',
                    description: 'Departamento amazónico con extensas llanuras, ríos caudalosos y una rica fauna silvestre, ideal para el ecoturismo.',
                    image: 'trinidad.jpg',
                    attractions: [
                        {
                            id: 'trinidad',
                            name: 'Trinidad',
                            description: 'Capital del Beni, punto de partida para tours por la Amazonía, observación de delfines rosados y vida silvestre.',
                            detail: 'Trinidad es la puerta de entrada a la Amazonía boliviana. Desde aquí, se pueden organizar excursiones fluviales para avistar delfines rosados de río, caimanes, monos y una gran variedad de aves. La ciudad misma ofrece una atmósfera tranquila y acceso a la cultura mojeña. Es un destino perfecto para los amantes de la naturaleza y la aventura. Se recomienda llevar repelente, ropa ligera y de manga larga, y protector solar.',
                            images: [
                                'trinidad1.jpg',
                                'trinidad2.jpg',
                                'beni1.jpg',
                                'beni2.jpg'
                            ]
                        },
                        {
                            id: 'parque-madidi',
                            name: 'Parque Madidi',
                            description: 'El bello Parque Nacional Madidi está situado en la zona noreste de La Paz en los distritos de Franz Tamayo, Abel Iturralde y Larecaja. ',
                            detail: 'Cuenta con un clima es frío en el espacio de la serranía, cálido en las tierras intermedias salvajes y cálidas en las tierras de la zona norte. El espacio cuenta con una asombrosa diversidad de medios fisiográficos, desde las montañas de Apolobamba hasta el espacio del Amazonas, contenidas las regiones abruptas y el método sub-andino.',
                            images: [
                                'pmadidi.jpg',
                                'pmadidi1.jpg',
                                'pmadidi2.jpg',
                                'pmadidi3.jpg'
                            ]
                        },
                        {
                            id: 'ruta-bufeo',
                            name: 'Ruta del Bufeo',
                            description: 'El Puerto Almacén se encuentra ubicado a 8 kilómetros de la ciudad a orillas del río Ibare se encuentra este balneario natural.  ',
                            detail: 'El visitante realizará una aventura de ensueños al recorrer en canoa a remos las aguas del río en el que podrá apreciar delfines de agua dulce, peces y animales de la zona. ',
                            images: [
                                'puertoaleman.jpg',
                                'puertoaleman1.jpg',
                                'puertoaleman2.jpg',
                                'puertoaleman3.jpg',
                                'puertoaleman4.jpg'
                            ]
                        },
                        {
                            id: 'laguna-suarez',
                            name: 'Laguna Suárez',
                            description: 'La Laguna Suarez se encuentra ubicada a unos 5 Km al sur de la ciudad de la Trinidad. Esta fue construida artificialmente por una antigua civilización de la región. ',
                            detail: 'La Laguna Suarez un atractivo turístico de la zona ya que cuenta con una excelente vista del lugar y con hermosos y cautivadores paisajes naturales de gran belleza.',
                            images: [
                                'lagunasuarez.jpg',
                                'lagunasuarez1.jpg',
                                'lagunasuarez2.jpg',
                                'lagunasuarez3.jpg',
                                'lagunasuarez4.jpg'
                            ]
                        }
                        
                    ]
                },
                {
                    id: 'cochabamba',
                    name: 'Cochabamba',
                    description: 'Conocida como la "Ciudad Jardín" y "Capital Gastronómica de Bolivia", ofrece un clima templado y valles fértiles.',
                    image: 'cochabamba.jpg',
                    attractions: [
                        {
                            id: 'cristo-de-la-concordia',
                            name: 'Cristo de la Concordia',
                            description: 'Una de las estatuas de Cristo más grandes del mundo, ofreciendo vistas panorámicas de la ciudad.',
                            detail: 'El Cristo de la Concordia es una imponente estatua de Jesucristo en Cochabamba, más alta que el Cristo Redentor de Río de Janeiro. Se encuentra en la cima del Cerro San Pedro y se puede acceder a ella en teleférico o a pie. Desde la cima, se disfrutan vistas espectaculares de toda la ciudad de Cochabamba y los valles circundantes. Es un símbolo de la ciudad y un lugar de peregrinación y turismo. Se recomienda visitarlo al atardecer para disfrutar de la puesta de sol.',
                            images: [
                                'cristo.jpg',
                                'cristo1.jpg',
                                'cristo2.jpg'
                            ]
                        }
                    ]
                },
                {
                    id: 'oruro',
                    name: 'Oruro',
                    description: 'Famosa por su vibrante Carnaval, declarado Obra Maestra del Patrimonio Oral e Intangible de la Humanidad por la UNESCO.',
                    image: 'oruro.jpg',
                    attractions: [
                        {
                            id: 'carnaval-de-oruro',
                            name: 'Carnaval de Oruro',
                            description: 'Una festividad religiosa y cultural única, con danzas folclóricas, música y trajes impresionantes.',
                            detail: 'El Carnaval de Oruro es una de las festividades más importantes de Sudamérica y una expresión cultural boliviana de gran riqueza. Declara Patrimonio de la Humanidad, combina tradiciones ancestrales andinas con elementos católicos. Miles de bailarines y músicos participan en desfiles espectaculares con trajes elaborados, representando diversas danzas folclóricas. Si planeas visitar durante el carnaval (febrero/marzo), es crucial reservar alojamiento y transporte con mucha antelación.',
                            images: [
                                'oruro1.jpg',
                                'oruro2.jpg',
                                'oruro3.jpg',
                                'canavaloruro1.jpg',
                                'canavaloruro2.jpg'   
                            ]
                        }
                    ]
                },
                {
                    id: 'chuquisaca',
                    name: 'Chuquisaca',
                    description: 'Hogar de Sucre, la capital constitucional de Bolivia, una hermosa ciudad colonial conocida por su arquitectura blanca.',
                    image: 'sucre.jpg',
                    attractions: [
                        {
                            id: 'sucre',
                            name: 'Sucre (Ciudad Blanca)',
                            description: 'Ciudad capital constitucional, con arquitectura colonial impresionante y sitios históricos.',
                            detail: 'Sucre, conocida como la "Ciudad Blanca" por sus edificios coloniales encalados, es la capital constitucional de Bolivia y Patrimonio de la Humanidad por la UNESCO. Su centro histórico está lleno de iglesias, conventos, museos y mansiones coloniales. Es un lugar ideal para pasear, disfrutar de su ambiente tranquilo y sumergirse en la historia de Bolivia. No te pierdas la Casa de la Libertad y el mirador de la Recoleta.',
                            images: [
                                'sucre1.jpg',
                                'sucre2.jpg',
                                'sucre3.jpg'
                            ]
                        }
                    ]
                },
                {
                    id: 'tarija',
                    name: 'Tarija',
                    description: 'Conocida como la "Andalucía de Bolivia", famosa por sus viñedos, vinos de altura y su clima templado.',
                    image: 'tarija.jpg',
                    attractions: [
                        {
                            id: 'ruta-del-vino',
                            name: 'Ruta del Vino y el Singani',
                            description: 'Explora viñedos de altura, bodegas y degusta los vinos y el singani, la bebida nacional boliviana.',
                            detail: 'Tarija es la capital de la vitivinicultura en Bolivia, con viñedos que se extienden a grandes altitudes. La "Ruta del Vino y el Singani" te permite visitar bodegas tradicionales y modernas, aprender sobre el proceso de elaboración, y por supuesto, degustar los vinos y el singani, un aguardiente de uva de alta calidad y bebida nacional. Es una experiencia deliciosa para los amantes del enoturismo y una forma diferente de conocer la cultura local.',
                            images: [
                                'rutavino.jpg',
                                'rutavino1.jpg',
                                'rutavino2.jpg',
                                'rutavino3.jpg',
                                'rutavino4.jpg',
                                'rutavino5.jpg',
                                'rutavino6.jpg'
                            ]
                        },
                        {
                            id: 'casa-dorada',
                            name: 'Casa Dorada',
                            description: 'Declarada como Patrimonio Nacional de Bolivia, está obra arquitectónica es probablemente la más bella de todo el país.',
                            detail: 'Su estilo artístico moderno causó mucho impacto en la población tarijeña así como en turistas, en la actualidad funciona como una Casa de Cultura en donde prevalece el patrimonio cultural Tarijeño, en su interior conserva su ostentosa y fina decoración, entre sus pasillos su estilo arquitectónico francés, además cuenta con un auditorio, galería de arte y una biblioteca envidiable.',
                            images: [
                                'casadorada.jpg',
                                'casadorada1.jpg'
                            ]
                        }

                    ]
                },
                {
                    id: 'pando',
                    name: 'Pando',
                    description: 'El corazón de la Amazonía boliviana, con una exuberante selva tropical y una rica biodiversidad.',
                    image: 'cobija.jpg',
                    attractions: [
                        {
                            id: 'cobija',
                            name: 'Cobija y la Selva Amazónica',
                            description: 'Capital del Pando, punto de partida para explorar la selva amazónica, sus ríos y su fauna.',
                            detail: 'Cobija es la capital del departamento de Pando, en la frontera con Brasil, y una puerta de entrada a la selva amazónica. Aunque la ciudad en sí es pequeña, es el punto de inicio para expediciones a la selva circundante, donde se puede observar la vida silvestre, navegar por ríos y conocer comunidades locales. Es un destino para los viajeros más aventureros que buscan una inmersión profunda en la naturaleza virgen de la Amazonía.',
                            images: [
                                'cobija1.jpg',
                                'cobija2.jpg',
                                'cobija3.jpg',
                                'cobija4.jpg',
                                'cobija5.jpg',
                                'cobija6.jpg',
                                'cobija7.jpg'
                            ]
                        }
                    ]
                },
                {
                    id: 'potosi-salardeuyuni', // Special ID for Salar de Uyuni if it's considered cross-department or a primary attraction
                    name: 'Salar de Uyuni',
                    description: 'El salar de sal más grande del mundo, un paisaje surrealista con hoteles de sal e islas de cactus.',
                    detail: 'El Salar de Uyuni, ubicado en el departamento de Potosí (aunque a menudo se accede desde La Paz u Oruro), es el desierto de sal más grande y alto del mundo. Sus vastas extensiones blancas ofrecen un espectáculo visual impresionante, especialmente durante la temporada de lluvias, cuando se convierte en un espejo gigante que refleja el cielo. Lugares de interés incluyen el Hotel de Sal, la Isla Incahuasi (con cactus gigantes) y los ojos de agua. Es una experiencia inolvidable que requiere preparación para las bajas temperaturas y la alta altitud.',
                    image: 'https://placehold.co/600x400/3498db/ffffff?text=Salar+Uyuni',
                    attractions: [ // Added images for Salar de Uyuni
                        'https://placehold.co/800x500/3498db/ffffff?text=Salar+Uyuni+1',
                        'https://placehold.co/800x500/2980b9/ffffff?text=Salar+Uyuni+2',
                        'https://placehold.co/800x500/4098db/ffffff?text=Salar+Uyuni+3',
                        'https://placehold.co/800x500/5098db/ffffff?text=Salar+Uyuni+4'
                            ]
                        }
                    ].sort((a,b) => a.name.localeCompare(b.name)) // Sort departments alphabetically
                };

        // Global variables for Firebase config and auth token (for future Firestore integration if needed)
        const appId = typeof window.__app_id !== 'undefined' ? window.__app_id : 'default-app-id';
        const firebaseConfig = typeof window.__firebase_config !== 'undefined' ? JSON.parse(window.__firebase_config) : null;
        const initialAuthToken = typeof window.__initial_auth_token !== 'undefined' ? window.__initial_auth_token : null;


        let currentPage = 'home';
        let selectedDepartment = null;
        let selectedAttraction = null;
        let isMobileMenuOpen = false;
        let currentImageIndex = 0; // For carousel

        // DOM Elements
        const mainContent = document.getElementById('main-content');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenuDropdown = document.getElementById('mobile-menu-dropdown');
        const navHomeBrand = document.getElementById('nav-home-brand');
        const navHome = document.getElementById('nav-home');
        const navExplore = document.getElementById('nav-explore');
        const navPlanTrip = document.getElementById('nav-plan-trip');
        const navContact = document.getElementById('nav-contact');
        const mobileNavHome = document.getElementById('mobile-nav-home');
        const mobileNavExplore = document.getElementById('mobile-nav-explore');
        const mobileNavPlanTrip = document.getElementById('mobile-nav-plan-trip');
        const mobileNavContact = document.getElementById('mobile-nav-contact');

        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modal-title');
        const modalContent = document.getElementById('modal-content');
        const modalCloseButton = document.getElementById('modal-close-button');
        const modalCloseButtonBottom = document.getElementById('modal-close-button-bottom');

        // Filter out 'Salar de Uyuni' as a department, it's treated as an attraction
        const departmentsForDisplay = boliviaData.departments.filter(dep => dep.id !== 'potosi-salardeuyuni');
        const allDepartments = boliviaData.departments.filter(dept => dept.id !== 'potosi-salardeuyuni');
        const allAttractions = allDepartments.flatMap(dept => dept.attractions)
            .concat(boliviaData.departments.filter(dept => dept.id === 'potosi-salardeuyuni'));

        // Utility function to set innerHTML and handle image errors
        function setHtmlContent(element, htmlString) {
            element.innerHTML = htmlString;
            const images = element.querySelectorAll('img');
            images.forEach(img => {
                const originalSrc = img.src;
                img.onerror = function() {
                    this.onerror = null; // Prevent infinite loop
                    const placeholderText = encodeURIComponent(this.alt || 'Imagen');
                    const width = this.naturalWidth > 0 ? this.naturalWidth : 800;
                    const height = this.naturalHeight > 0 ? this.naturalHeight : 500;
                    this.src = `https://placehold.co/${width}x${height}/cccccc/333333?text=${placeholderText}`;
                };
                // Force reload if image already failed but src was changed
                if (img.complete && img.naturalWidth === 0) {
                    img.src = originalSrc;
                }
            });
        }

        // Navigation Function
        function navigateTo(page, dept = null, attr = null) {
            currentPage = page;
            selectedDepartment = dept;
            selectedAttraction = attr;
            isMobileMenuOpen = false; // Close menu on navigation
            if (mobileMenuDropdown) mobileMenuDropdown.classList.add('hidden'); // Ensure dropdown is hidden
            window.scrollTo(0, 0); // Scroll to top on page change
            renderPage();
        }

        // --- Page Rendering Functions ---

        function renderHomePage() {
            const html = `
                <div class="min-h-[calc(100vh-140px)] flex flex-col justify-center items-center text-center p-6 bg-cover bg-center rounded-xl shadow-lg m-4 animate-fade-in" style="background-image: url(https://placehold.co/1200x800/6a1b9a/ffffff?text=Paisaje+Boliviano)">
                    <div class="bg-black bg-opacity-60 p-8 rounded-2xl shadow-xl max-w-4xl transform transition-transform duration-500 hover:scale-105">
                        <h1 class="text-5xl md:text-7xl font-extrabold text-white mb-6 leading-tight drop-shadow-lg">
                            Descubre la Magia de <span class="text-yellow-400">Bolivia</span>
                        </h1>
                        <p class="text-xl md:text-2xl text-gray-200 mb-8 max-w-2xl mx-auto">
                            Explora paisajes impresionantes, culturas vibrantes y aventuras inolvidables en el corazón de Sudamérica.
                        </p>
                        <div class="flex flex-col md:flex-row justify-center space-y-4 md:space-y-0 md:space-x-6">
                            <button id="home-explore-btn" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition-all duration-300 ease-in-out hover:scale-105 active:scale-95 border-2 border-yellow-500 hover:border-yellow-600">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-globe inline-block mr-2">
                                    <circle cx="12" cy="12" r="10" />
                                    <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20" />
                                    <path d="M2 12h20" />
                                </svg>
                                Explorar Destinos
                            </button>
                            <button id="home-plan-trip-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition-all duration-300 ease-in-out hover:scale-105 active:scale-95 border-2 border-blue-500 hover:border-blue-600">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plane inline-block mr-2">
                                    <path d="M17.8 19.2 16 11l3.5-3.5C21 6 22 5 22 3.5a2.5 2.5 0 0 0-2.5-2.5c-1.5 0-2.5 1-3.5 2.5L13 8l-8.2-1.8c-.9-.2-1.8.1-2.5.7L.7 9.9c-.8.7-.7 2 .2 2.7l3.5 3.5c.7.7 2 .8 2.7.2L11 16l8.2 1.8c.9.2 1.8-.1 2.5-.7L23.3 14.1c.8-.7.7-2-.2-2.7l-3.5-3.5c-.7-.7-2-.8-2.7-.2Z" />
                                    <path d="M15 14v6" />
                                    <path d="M18 17H9" />
                                </svg>
                                Planificar mi Viaje
                            </button>
                        </div>
                    </div>
                </div>
            `;
            setHtmlContent(mainContent, html);
            document.getElementById('home-explore-btn').onclick = () => navigateTo('explore');
            document.getElementById('home-plan-trip-btn').onclick = () => navigateTo('plan-trip');
        }

        function renderExploreBoliviaPage() {
            let deptCardsHtml = departmentsForDisplay.map(dept => `
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-2xl cursor-pointer border border-gray-200 group" data-dept-id="${dept.id}">
                    <div class="relative overflow-hidden h-56">
                        <img src="${dept.image}" alt="${dept.name}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60 group-hover:opacity-70 transition-opacity"></div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-3xl font-bold text-gray-900 mb-3">${dept.name}</h3>
                        <p class="text-gray-700 text-lg mb-4 line-clamp-3">${dept.description}</p>
                        <button class="inline-flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-full shadow-md transition-all duration-300 hover:shadow-lg transform hover:scale-105 active:scale-95">
                            Ver Más
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                                <path fill-rule="evenodd" d="M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                </div>
            `).join('');

            const salarDeUyuni = boliviaData.departments.find(d => d.id === 'potosi-salardeuyuni');
            if (salarDeUyuni) {
                deptCardsHtml += `
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-2xl cursor-pointer border border-gray-200 group" data-dept-id="potosi" data-attraction-id="${salarDeUyuni.id}">
                        <div class="relative overflow-hidden h-56">
                            <img src="Uyuni.jpg" alt="Salar de Uyuni" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                            <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60 group-hover:opacity-70 transition-opacity"></div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-3xl font-bold text-gray-900 mb-3">${salarDeUyuni.name}</h3>
                            <p class="text-gray-700 text-lg mb-4 line-clamp-3">${salarDeUyuni.description}</p>
                            <button class="inline-flex items-center justify-center bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-full shadow-md transition-all duration-300 hover:shadow-lg transform hover:scale-105 active:scale-95">
                                Ver Detalles
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                                    <path fill-rule="evenodd" d="M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                                </svg>
                            </button>
                        </div>
                    </div>
                `;
            }

            const html = `
                <div class="container mx-auto p-6 min-h-[calc(100vh-140px)]">
                    <h2 class="text-5xl font-extrabold text-gray-800 text-center mb-12 mt-4 drop-shadow-md">
                        Explora <span class="text-blue-600">Bolivia</span> por Departamento
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        ${deptCardsHtml}
                    </div>
                </div>
            `;
            setHtmlContent(mainContent, html);

            document.querySelectorAll('#main-content [data-dept-id]').forEach(card => {
                card.onclick = (e) => {
                    const deptId = card.dataset.deptId;
                    const attractionId = card.dataset.attractionId; // Check if it's a direct attraction card
                    if (attractionId) {
                        const dept = boliviaData.departments.find(d => d.id === deptId);
                        const attr = boliviaData.departments.find(d => d.id === attractionId); // Salar de Uyuni
                        navigateTo('attraction-detail', dept, attr);
                    } else {
                        const dept = boliviaData.departments.find(d => d.id === deptId);
                        navigateTo('department-detail', dept);
                    }
                };
            });
        }

        function renderDepartmentDetailPage() {
            if (!selectedDepartment) {
                setHtmlContent(mainContent, `
                    <div class="container mx-auto p-6 text-center text-red-500 font-bold min-h-[calc(100vh-140px)]">
                        Departamento no seleccionado.
                        <button id="back-to-explore" class="mt-4 text-blue-600 hover:text-blue-800">
                            Volver a Explorar Bolivia
                        </button>
                    </div>
                `);
                document.getElementById('back-to-explore').onclick = () => navigateTo('explore');
                return;
            }

            let attractionCardsHtml = selectedDepartment.attractions.map(attraction => `
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-2xl cursor-pointer border border-gray-200 group" data-attraction-id="${attraction.id}">
                    <div class="relative overflow-hidden h-56">
                        <img src="${attraction.images[0]}" alt="${attraction.name}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60 group-hover:opacity-70 transition-opacity"></div>
                    </div>
                    <div class="p-6">
                        <h4 class="text-2xl font-bold text-gray-900 mb-3">${attraction.name}</h4>
                        <p class="text-gray-700 text-lg mb-4 line-clamp-3">${attraction.description}</p>
                        <button class="inline-flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-full shadow-md transition-all duration-300 hover:shadow-lg transform hover:scale-105 active:scale-95">
                            Ver Detalles
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                                <path fill-rule="evenodd" d="M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                </div>
            `).join('');

            const html = `
                <div class="container mx-auto p-6 min-h-[calc(100vh-140px)]">
                    <button id="back-to-departments" class="mb-6 flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-300 font-semibold text-lg p-2 rounded-md hover:bg-blue-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        Volver a Departamentos
                    </button>
                    <h2 class="text-5xl font-extrabold text-gray-800 text-center mb-8 drop-shadow-md">
                        Explora <span class="text-blue-600">${selectedDepartment.name}</span>
                    </h2>
                    <img src="${selectedDepartment.image}" alt="${selectedDepartment.name}" class="w-full h-80 object-cover rounded-2xl shadow-lg mb-8 border border-gray-200 animate-fade-in">
                    <p class="text-gray-700 text-xl leading-relaxed mb-12 bg-white p-8 rounded-2xl shadow-xl border border-gray-100">
                        ${selectedDepartment.description}
                    </p>

                    <h3 class="text-4xl font-bold text-gray-800 mb-8 text-center">Lugares Turísticos Destacados</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        ${attractionCardsHtml}
                    </div>
                </div>
            `;
            setHtmlContent(mainContent, html);

            document.getElementById('back-to-departments').onclick = () => navigateTo('explore');
            document.querySelectorAll('#main-content [data-attraction-id]').forEach(card => {
                card.onclick = () => {
                    const attractionId = card.dataset.attractionId;
                    const attraction = selectedDepartment.attractions.find(attr => attr.id === attractionId);
                    navigateTo('attraction-detail', selectedDepartment, attraction);
                };
            });
        }

        function renderAttractionDetailPage() {
            const currentAttraction = selectedAttraction || boliviaData.departments.find(d => d.id === 'potosi-salardeuyuni');
            const currentDepartment = selectedDepartment || boliviaData.departments.find(d => d.id === 'potosi');

            if (!currentAttraction || !currentDepartment) {
                setHtmlContent(mainContent, `
                    <div class="container mx-auto p-6 text-center text-red-500 font-bold min-h-[calc(100vh-140px)]">
                        Atractivo no encontrado.
                        <button id="back-to-explore" class="mt-4 flex items-center mx-auto text-blue-600 hover:text-blue-800 transition-colors duration-300 font-semibold p-2 rounded-md hover:bg-blue-100">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                            </svg>
                            Volver a Departamentos
                        </button>
                    </div>
                `);
                document.getElementById('back-to-explore').onclick = () => navigateTo('explore');
                return;
            }

            const attractionImages = currentAttraction.images || [];
            let imageGalleryHtml = '';
            let thumbnailsHtml = '';

            // Reset currentImageIndex for the new attraction
            currentImageIndex = 0;

            if (attractionImages.length > 0) {
                imageGalleryHtml = `
                    <div class="relative mb-8 bg-white rounded-2xl shadow-xl border border-gray-100 p-4">
                        <div class="overflow-hidden rounded-xl h-96 flex items-center justify-center">
                            <img id="attraction-main-image" src="${attractionImages[currentImageIndex]}" alt="${currentAttraction.name} - ${currentImageIndex + 1}" class="w-full h-full object-cover transition-opacity duration-500 ease-in-out">
                        </div>
                        ${attractionImages.length > 1 ? `
                        <button id="prev-image-btn" class="absolute left-4 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full shadow-lg hover:bg-opacity-75 transition-colors duration-300 z-10" aria-label="Imagen anterior">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left">
                                <path d="m15 18-6-6 6-6"/>
                            </svg>
                        </button>
                        <button id="next-image-btn" class="absolute right-4 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full shadow-lg hover:bg-opacity-75 transition-colors duration-300 z-10" aria-label="Imagen siguiente">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right">
                                <path d="m9 18 6-6-6-6"/>
                            </svg>
                        </button>
                        ` : ''}
                        <div id="thumbnail-gallery" class="flex justify-center space-x-2 mt-4 flex-wrap gap-y-2 scroll-hidden overflow-x-auto">
                            ${attractionImages.map((img, index) => `
                                <img src="${img}" alt="Thumbnail ${index + 1}" class="w-20 h-16 object-cover rounded-md cursor-pointer border-2 transition-all duration-200 ${
                                    index === currentImageIndex ? 'border-blue-600 shadow-md' : 'border-gray-200 hover:border-blue-300'
                                }" data-img-index="${index}">
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            const html = `
                <div class="container mx-auto p-6 min-h-[calc(100vh-140px)]">
                    <button id="back-to-department-btn" class="mb-6 flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-300 font-semibold text-lg p-2 rounded-md hover:bg-blue-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        Volver a ${currentDepartment.name}
                    </button>
                    <h2 class="text-5xl font-extrabold text-gray-800 text-center mb-8 drop-shadow-md">
                        Descubre <span class="text-blue-600">${currentAttraction.name}</span>
                    </h2>

                    ${imageGalleryHtml}

                    <div class="bg-white p-8 rounded-2xl shadow-xl border border-gray-100 mb-8">
                        <p class="text-gray-700 text-lg leading-relaxed mb-6">
                            ${currentAttraction.detail}
                        </p>
                    </div>

                    <div class="text-center">
                        <button id="plan-trip-from-attraction-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-10 rounded-full shadow-lg transform transition-all duration-300 ease-in-out hover:scale-105 active:scale-95 text-xl border-2 border-green-600 hover:border-green-700">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plane inline-block mr-3">
                                <path d="M17.8 19.2 16 11l3.5-3.5C21 6 22 5 22 3.5a2.5 2.5 0 0 0-2.5-2.5c-1.5 0-2.5 1-3.5 2.5L13 8l-8.2-1.8c-.9-.2-1.8.1-2.5.7L.7 9.9c-.8.7-.7 2 .2 2.7l3.5 3.5c.7.7 2 .8 2.7.2L11 16l8.2 1.8c.9.2 1.8-.1 2.5-.7L23.3 14.1c.8-.7.7-2-.2-2.7l-3.5-3.5c-.7-.7-2-.8-2.7-.2Z" />
                                <path d="M15 14v6" />
                                <path d="M18 17H9" />
                            </svg>
                            ¡Planifica tu Viaje a ${currentAttraction.name}!
                        </button>
                    </div>
                </div>
            `;
            setHtmlContent(mainContent, html);

            document.getElementById('back-to-department-btn').onclick = () => navigateTo('department-detail', currentDepartment);
            document.getElementById('plan-trip-from-attraction-btn').onclick = () => navigateTo('plan-trip', null, currentAttraction);

            // Carousel Logic
            const mainImage = document.getElementById('attraction-main-image');
            const prevButton = document.getElementById('prev-image-btn');
            const nextButton = document.getElementById('next-image-btn');
            const thumbnailGallery = document.getElementById('thumbnail-gallery');

            function updateImage() {
                if (mainImage) {
                    mainImage.src = attractionImages[currentImageIndex];
                    // Update active thumbnail class
                    document.querySelectorAll('#thumbnail-gallery img').forEach((thumb, idx) => {
                        if (idx === currentImageIndex) {
                            thumb.classList.add('border-blue-600', 'shadow-md');
                            thumb.classList.remove('border-gray-200', 'hover:border-blue-300');
                        } else {
                            thumb.classList.remove('border-blue-600', 'shadow-md');
                            thumb.classList.add('border-gray-200', 'hover:border-blue-300');
                        }
                    });
                }
            }

            if (prevButton) {
                prevButton.onclick = () => {
                    currentImageIndex = (currentImageIndex - 1 + attractionImages.length) % attractionImages.length;
                    updateImage();
                };
            }
            if (nextButton) {
                nextButton.onclick = () => {
                    currentImageIndex = (currentImageIndex + 1) % attractionImages.length;
                    updateImage();
                };
            }
            if (thumbnailGallery) {
                thumbnailGallery.querySelectorAll('img').forEach(thumb => {
                    thumb.onclick = (e) => {
                        currentImageIndex = parseInt(e.target.dataset.imgIndex);
                        updateImage();
                    };
                });
            }
            updateImage(); // Initial image display
        }

        async function renderPlanYourTripPage(initialAttraction = null) {
            let formData = {
                type: 'individual',
                destinations: initialAttraction ? [initialAttraction.name] : [],
                startDate: '',
                endDate: '',
                numPeople: 1,
                budget: '',
                interests: '',
                name: '',
                email: '',
                phone: '',
                message: '',
            };
            let isSubmitting = false;
            let response = null;
            let message = '';

            const html = `
                <div class="container mx-auto p-6 min-h-[calc(100vh-140px)]">
                    <h2 class="text-5xl font-extrabold text-gray-800 text-center mb-10 mt-4 drop-shadow-md">
                        <span class="text-blue-600">Planifica</span> tu Viaje a Medida
                    </h2>
                    <p class="text-xl text-gray-700 text-center mb-12 max-w-3xl mx-auto">
                        Cuéntanos sobre el viaje de tus sueños a Bolivia y nuestra IA te ayudará a crear una propuesta personalizada con un itinerario y un precio estimado.
                    </p>

                    <form id="plan-trip-form" class="bg-white p-8 rounded-2xl shadow-xl border border-gray-100 max-w-4xl mx-auto">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label for="name" class="block text-gray-800 text-lg font-semibold mb-2">Nombre Completo <span class="text-red-500">*</span></label>
                                <input type="text" id="name" name="name" value="${formData.name}" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg shadow-sm" placeholder="Tu nombre" required>
                            </div>
                            <div>
                                <label for="email" class="block text-gray-800 text-lg font-semibold mb-2">Email <span class="text-red-500">*</span></label>
                                <input type="email" id="email" name="email" value="${formData.email}" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg shadow-sm" placeholder="tu.email@ejemplo.com" required>
                            </div>
                            <div>
                                <label for="phone" class="block text-gray-800 text-lg font-semibold mb-2">Teléfono</label>
                                <input type="tel" id="phone" name="phone" value="${formData.phone}" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg shadow-sm" placeholder="+591 7XXXXXXX">
                            </div>
                            <div>
                                <label for="numPeople" class="block text-gray-800 text-lg font-semibold mb-2">Número de Personas</label>
                                <input type="number" id="numPeople" name="numPeople" value="${formData.numPeople}" min="1" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg shadow-sm">
                            </div>
                        </div>

                        <div class="mb-6">
                            <label class="block text-gray-800 text-lg font-semibold mb-3">Destinos o Departamentos de Interés <span class="text-red-500">*</span></label>
                            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 bg-gray-50 p-4 rounded-xl border border-gray-200 shadow-inner">
                                ${allAttractions.map(attraction => `
                                    <div class="flex items-center">
                                        <input type="checkbox" id="destination-${attraction.id}" name="destinations" value="${attraction.name}" class="h-5 w-5 text-blue-600 rounded-md focus:ring-blue-500 border-gray-300 cursor-pointer" ${formData.destinations.includes(attraction.name) ? 'checked' : ''}>
                                        <label for="destination-${attraction.id}" class="ml-3 text-gray-700 text-base cursor-pointer">
                                            ${attraction.name} (${attraction.id === 'potosi-salardeuyuni' ? 'Potosí' : allDepartments.find(d => d.attractions.some(a => a.id === attraction.id))?.name || 'Varios'})
                                        </label>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label for="startDate" class="block text-gray-800 text-lg font-semibold mb-2">Fecha de Inicio <span class="text-red-500">*</span></label>
                                <input type="date" id="startDate" name="startDate" value="${formData.startDate}" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg shadow-sm" required>
                            </div>
                            <div>
                                <label for="endDate" class="block text-gray-800 text-lg font-semibold mb-2">Fecha de Fin <span class="text-red-500">*</span></label>
                                <input type="date" id="endDate" name="endDate" value="${formData.endDate}" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg shadow-sm" required>
                            </div>
                        </div>

                        <div class="mb-6">
                            <label for="interests" class="block text-gray-800 text-lg font-semibold mb-2">Intereses Especiales (ej. Aventura, Cultura, Relax, Gastronomía)</label>
                            <input type="text" id="interests" name="interests" value="${formData.interests}" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg shadow-sm" placeholder="Senderismo, historia, fauna...">
                        </div>

                        <div class="mb-8">
                            <label for="message" class="block text-gray-800 text-lg font-semibold mb-2">Mensaje Adicional</label>
                            <textarea id="message" name="message" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg shadow-sm" placeholder="Cualquier otro detalle que quieras compartir...">${formData.message}</textarea>
                        </div>

                        <div class="text-center">
                            <button type="submit" id="submit-plan-trip" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 px-10 rounded-full shadow-lg transform transition-all duration-300 ease-in-out hover:scale-105 active:scale-95 text-xl flex items-center justify-center mx-auto border-2 border-purple-600 hover:border-purple-700">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plane inline-block mr-3">
                                    <path d="M17.8 19.2 16 11l3.5-3.5C21 6 22 5 22 3.5a2.5 2.5 0 0 0-2.5-2.5c-1.5 0-2.5 1-3.5 2.5L13 8l-8.2-1.8c-.9-.2-1.8.1-2.5.7L.7 9.9c-.8.7-.7 2 .2 2.7l3.5 3.5c.7.7 2 .8 2.7.2L11 16l8.2 1.8c.9.2 1.8-.1 2.5-.7L23.3 14.1c.8-.7.7-2-.2-2.7l-3.5-3.5c-.7-.7-2-.8-2.7-.2Z" />
                                    <path d="M15 14v6" />
                                    <path d="M18 17H9" />
                                </svg>
                                Generar mi Cotización
                            </button>
                            <p id="form-message" class="mt-4 text-center text-lg"></p>
                        </div>
                    </form>
                </div>
            `;
            setHtmlContent(mainContent, html);

            // Get form elements
            const form = document.getElementById('plan-trip-form');
            const formMessage = document.getElementById('form-message');
            const submitButton = document.getElementById('submit-plan-trip');

            // Set initial form data if coming from an attraction page
            if (initialAttraction) {
                formData.destinations = [initialAttraction.name];
                document.getElementById(`destination-${initialAttraction.id}`).checked = true;
            }

            // Add event listeners for form changes
            form.addEventListener('change', (e) => {
                const { name, value, type, checked } = e.target;
                if (name === 'destinations') {
                    if (checked) {
                        formData.destinations.push(value);
                    } else {
                        formData.destinations = formData.destinations.filter((d) => d !== value);
                    }
                } else if (type === 'number') {
                    formData[name] = parseInt(value) || '';
                } else {
                    formData[name] = value;
                }
            });

            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                isSubmitting = true;
                formMessage.textContent = '';
                submitButton.disabled = true;
                submitButton.innerHTML = `
                    <svg class="animate-spin -ml-1 mr-3 h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    Generando Cotización...
                `;

                // Basic validation
                if (!formData.name || !formData.email || formData.destinations.length === 0 || !formData.startDate || !formData.endDate) {
                    formMessage.textContent = 'Por favor, completa todos los campos obligatorios (Nombre, Email, Destinos, Fechas).';
                    formMessage.classList.add('text-red-600');
                    formMessage.classList.remove('text-green-600');
                    isSubmitting = false;
                    submitButton.disabled = false;
                    submitButton.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plane inline-block mr-3">
                            <path d="M17.8 19.2 16 11l3.5-3.5C21 6 22 5 22 3.5a2.5 2.5 0 0 0-2.5-2.5c-1.5 0-2.5 1-3.5 2.5L13 8l-8.2-1.8c-.9-.2-1.8.1-2.5.7L.7 9.9c-.8.7-.7 2 .2 2.7l3.5 3.5c.7.7 2 .8 2.7.2L11 16l8.2 1.8c.9.2 1.8-.1 2.5-.7L23.3 14.1c.8-.7.7-2-.2-2.7l-3.5-3.5c-.7-.7-2-.8-2.7-.2Z" />
                            <path d="M15 14v6" />
                            <path d="M18 17H9" />
                        </svg>
                        Generar mi Cotización
                    `;
                    return;
                }

                try {
                    // Construct LLM prompt
                    const prompt = `Un usuario está solicitando un plan de viaje para Bolivia con los siguientes detalles:
                    Tipo de viaje: ${formData.type}
                    Destinos de interés: ${formData.destinations.join(', ')}
                    Fechas estimadas: del ${formData.startDate} al ${formData.endDate}
                    Número de personas: ${formData.numPeople}
                    Presupuesto estimado por persona: ${formData.budget || 'no especificado'}
                    Intereses especiales: ${formData.interests || 'no especificados'}
                    Mensaje adicional: ${formData.message || 'Ninguno'}

                    Actúa como una agencia de viajes experta en Bolivia. Genera una propuesta de viaje detallada que incluya un itinerario sugerido (mínimo 3 días), un precio estimado para el grupo total (en USD), y algunas notas importantes. El precio debe ser un número entero y razonable.

                    Formato de la respuesta en JSON:
                    {
                        "itinerary": "Descripción detallada del itinerario día por día.",
                        "priceEstimate": "Precio total estimado en USD (ej. $1500 USD)",
                        "notes": "Notas importantes sobre el viaje, como qué incluir/excluir, clima, etc."
                    }`;

                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                    const payload = {
                        contents: chatHistory,
                        generationConfig: {
                            responseMimeType: "application/json",
                            responseSchema: {
                                type: "OBJECT",
                                properties: {
                                    "itinerary": { "type": "STRING" },
                                    "priceEstimate": { "type": "STRING" },
                                    "notes": { "type": "STRING" }
                                },
                                "propertyOrdering": ["itinerary", "priceEstimate", "notes"]
                            }
                        }
                    };

                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const apiResponse = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!apiResponse.ok) {
                        throw new Error(`Error en la API: ${apiResponse.statusText}`);
                    }

                    const result = await apiResponse.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const jsonString = result.candidates[0].content.parts[0].text;
                        response = JSON.parse(jsonString);
                        formMessage.textContent = '¡Tu cotización ha sido generada con éxito!';
                        formMessage.classList.add('text-green-600');
                        formMessage.classList.remove('text-red-600');
                        openModal('Tu Propuesta de Viaje', `
                            <h4 class="text-2xl font-bold mb-3 text-blue-700">Itinerario Sugerido:</h4>
                            <p class="mb-6 whitespace-pre-wrap">${response.itinerary}</p>
                            <h4 class="text-2xl font-bold mb-3 text-blue-700">Precio Estimado:</h4>
                            <p class="mb-6 text-xl font-semibold text-green-700">${response.priceEstimate}</p>
                            <h4 class="text-2xl font-bold mb-3 text-blue-700">Notas Importantes:</h4>
                            <p class="whitespace-pre-wrap">${response.notes}</p>
                        `);
                    } else {
                        formMessage.textContent = 'Hubo un error al generar la cotización. Por favor, intenta de nuevo.';
                        formMessage.classList.add('text-red-600');
                        formMessage.classList.remove('text-green-600');
                        console.error('Unexpected API response structure:', result);
                    }

                } catch (error) {
                    console.error('Error al solicitar cotización:', error);
                    formMessage.textContent = 'Hubo un error al solicitar tu cotización. Por favor, verifica tu conexión o intenta más tarde.';
                    formMessage.classList.add('text-red-600');
                    formMessage.classList.remove('text-green-600');
                } finally {
                    isSubmitting = false;
                    submitButton.disabled = false;
                    submitButton.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plane inline-block mr-3">
                            <path d="M17.8 19.2 16 11l3.5-3.5C21 6 22 5 22 3.5a2.5 2.5 0 0 0-2.5-2.5c-1.5 0-2.5 1-3.5 2.5L13 8l-8.2-1.8c-.9-.2-1.8.1-2.5.7L.7 9.9c-.8.7-.7 2 .2 2.7l3.5 3.5c.7.7 2 .8 2.7.2L11 16l8.2 1.8c.9.2 1.8-.1 2.5-.7L23.3 14.1c.8-.7.7-2-.2-2.7l-3.5-3.5c-.7-.7-2-.8-2.7-.2Z" />
                            <path d="M15 14v6" />
                            <path d="M18 17H9" />
                        </svg>
                        Generar mi Cotización
                    `;
                }
            });
        }


        function renderContactPage() {
            const html = `
                <div class="container mx-auto p-6 min-h-[calc(100vh-140px)]">
                    <h2 class="text-5xl font-extrabold text-gray-800 text-center mb-10 mt-4 drop-shadow-md">
                        Contáctanos
                    </h2>
                    <div class="bg-white p-8 rounded-2xl shadow-xl border border-gray-100 max-w-2xl mx-auto text-lg text-gray-700">
                        <p class="mb-6 text-center">
                            ¿Tienes alguna pregunta o necesitas ayuda para planificar tu aventura en Bolivia?
                            ¡No dudes en contactarnos!
                        </p>
                        <div class="space-y-4">
                            <div class="flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail text-blue-600 mr-3">
                                    <rect width="20" height="16" x="2" y="4" rx="2" />
                                    <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" />
                                </svg>
                                <span class="font-semibold">Email:</span> info@boliviaexplorack.com
                            </div>
                            <div class="flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-phone text-blue-600 mr-3"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                                <span class="font-semibold">Teléfono (WhatsApp):</span> +591 69058091
                            </div>
                            <div class="flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-pin text-blue-600 mr-3"><path d="M12 18.7c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"/><circle cx="12" cy="12" r="3"/><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2z"/></svg>
                                <span class="font-semibold">Dirección:</span> Calle Principal #123, Santa cruz, Bolivia
                            </div>
                        </div>
                        <div class="mt-8 text-center">
                            <p class="font-semibold mb-3">Síguenos en nuestras redes sociales:</p>
                            <div class="flex justify-center space-x-6">
                                <a href="#" class="text-gray-600 hover:text-blue-600 transition-colors duration-300">
                                    <img src="https://i.ibb.co/XrPDJJC3/facebook-1.png" width="32" height="32" viewBox="0 0 24 24" fill="currentColor" class="lucide lucide-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
                                </a>
                                <a href="#" class="text-gray-600 hover:text-pink-600 transition-colors duration-300">
                                    <img src="https://i.ibb.co/ycjjcSM0/instagram.png" width="32" height="32" viewBox="0 0 24 24" fill="currentColor" class="lucide lucide-instagram"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.5" y1="6.5" y2="6.5"/></svg>
                                </a>
                                <a href="#" class="text-gray-600 hover:text-red-600 transition-colors duration-300">
                                    <img src="https://i.ibb.co/Fb85fW3S/tik-tok.png" width="32" height="32" viewBox="0 0 24 24" fill="currentColor" class="lucide lucide-youtube"><path d="M2.5 17.5v-11C2.5 5.6 3.1 5 4 5h16c.9 0 1.5.6 1.5 1.5v11c0 .9-.6 1.5-1.5 1.5H4c-.9 0-1.5-.6-1.5-1.5z"/><path d="m10 8 5 4-5 4V8z"/></svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            setHtmlContent(mainContent, html);
        }

        // Main render function based on current page
        function renderPage() {
            switch (currentPage) {
                case 'home':
                    renderHomePage();
                    break;
                case 'explore':
                    renderExploreBoliviaPage();
                    break;
                case 'department-detail':
                    renderDepartmentDetailPage();
                    break;
                case 'attraction-detail':
                    renderAttractionDetailPage();
                    break;
                case 'plan-trip':
                    renderPlanYourTripPage(selectedAttraction);
                    break;
                case 'contact':
                    renderContactPage();
                    break;
                default:
                    renderHomePage();
            }
        }

        // --- Modal Functions ---
        function openModal(title, contentHtml) {
            modalTitle.textContent = title;
            setHtmlContent(modalContent, contentHtml);
            modal.classList.remove('hidden');
        }

        function closeModal() {
            modal.classList.add('hidden');
            modalTitle.textContent = '';
            modalContent.innerHTML = '';
        }

        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // Navbar click handlers
            navHomeBrand.onclick = () => navigateTo('home');
            navHome.onclick = () => navigateTo('home');
            navExplore.onclick = () => navigateTo('explore');
            navPlanTrip.onclick = () => navigateTo('plan-trip');
            navContact.onclick = () => navigateTo('contact');
            mobileNavHome.onclick = () => navigateTo('home');
            mobileNavExplore.onclick = () => navigateTo('explore');
            mobileNavPlanTrip.onclick = () => navigateTo('plan-trip');
            mobileNavContact.onclick = () => navigateTo('contact');

            // Mobile menu toggle
            mobileMenuButton.onclick = () => {
                isMobileMenuOpen = !isMobileMenuOpen;
                if (isMobileMenuOpen) {
                    mobileMenuDropdown.classList.remove('hidden');
                } else {
                    mobileMenuDropdown.classList.add('hidden');
                }
            };

            // Modal close buttons
            modalCloseButton.onclick = closeModal;
            modalCloseButtonBottom.onclick = closeModal;

            // Initial page render
            renderPage();
        });
    </script>
</body>
</html>
